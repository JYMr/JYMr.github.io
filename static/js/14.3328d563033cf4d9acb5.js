webpackJsonp([14],{bND5:function(e,t){e.exports=function(e,t,n){var i=new Blob([e],{type:n||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(i,t);else{var o=window.URL.createObjectURL(i),a=document.createElement("a");a.style.display="none",a.href=o,a.setAttribute("download",t),void 0===a.download&&a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(o)}}},fnkm:function(e,t){},zox0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("T+zv"),o=n("Leza"),a=(n("bND5"),{data:function(){return{form:{supplierOpenAccountFileVoList:[]},loadingTab:!1,openAccountType:"",openAccountContent:"",openAccountAftersales:"",openAccountId:"",UploadUrl:o.b,Headers:o.a}},mounted:function(){this.getSupplierOpenAccount(),this.getFileList()},methods:{getSupplierOpenAccount:function(){var e=this;i.a.getSupplierOpenAccount().then(function(t){e.openAccountContent=t.openAccountContent,e.openAccountType=t.openAccountType,e.openAccountAftersales=t.openAccountAftersales,e.openAccountId=t.openAccountId})},getFileList:function(){var e=this;i.a.getSOpenAccountFileList().then(function(t){e.form.supplierOpenAccountFileVoList=t})},saveFileList:function(){var e=this;i.a.updateSOpenAccountFileList(this.form).then(function(t){e.$message.success("保存成功")})},LinkTo:function(e){this.$router.push({path:e,query:{openAccountId:this.openAccountId}})},addItem:function(){this.form.supplierOpenAccountFileVoList.push({openAccountFileImgurl:"",openAccountFileName:"",openAccountFileUrl:"",openAccountOldfileName:""})},handledSuccess:function(e,t){if(200==e.code){var n=["image/jpg","image/png","image/jpeg","image/gif"].indexOf(t.raw.type)>-1;this.form.supplierOpenAccountFileVoList[e.data.index].openAccountOldfileName="",this.form.supplierOpenAccountFileVoList[e.data.index].openAccountFileUrl="",this.form.supplierOpenAccountFileVoList[e.data.index].openAccountFileImgurl="",this.$set(this.form.supplierOpenAccountFileVoList[e.data.index],n?"openAccountFileImgurl":"openAccountFileUrl",e.data.url),n||(this.form.supplierOpenAccountFileVoList[e.data.index].openAccountFileImgurl="",this.$set(this.form.supplierOpenAccountFileVoList[e.data.index],"openAccountOldfileName",t.raw.name))}},downLoadFile:function(e,t){var n=new RegExp(/(\.(\w+)\?)|(\.(\w+)$)/),i=e.match(n),o=i.length>0?i[0].replace("?",""):"";if([".jpg",".jpeg",".gif",".png"].indexOf(o)>=0){""===t&&(t=(new Date).getTime());var a=document.createElement("a");a.href=e,a.download=e,a.click()}else window.open(e)}}}),c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("AutoBreadcrumb"),e._v(" "),n("div",{staticClass:"RegisteredSettings content-box"},[n("el-tabs",{attrs:{type:"card",value:"first"}},[n("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTab,expression:"loadingTab"}],attrs:{label:"开户流程",name:"first"}},[n("h3",[e._v("首营流程")]),e._v(" "),e.openAccountContent?n("div",{staticClass:"html-item"},[n("label",[e._v("开户类型:")]),e._v(" "),n("div",{staticClass:"html-content"},[e._v(e._s(e.openAccountType))])]):e._e(),e._v(" "),e.openAccountContent?n("div",{staticClass:"html-item"},[n("label",[e._v("内容:")]),e._v(" "),n("div",{staticClass:"html-content",domProps:{innerHTML:e._s(e.openAccountContent)}})]):n("div",{staticClass:"html-content empty"},[e._v("为能快速与采购商达成交易，请尽快填写采购商开户流程，便于采购知悉开户流程及所需资料！")]),e._v(" "),n("div",{staticClass:"btn-submit"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.LinkTo("/Shop/RegisteredSettings/ModifyRegistered")}}},[e._v("修改")])],1)]),e._v(" "),n("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTab,expression:"loadingTab"}],attrs:{label:"开户所需上传资料",name:"second"}},[n("h3",[e._v("药店开户需上传资料")]),e._v(" "),n("div",{staticClass:"upload-list"},[n("el-form",{ref:"form",attrs:{model:e.form}},[e._l(e.form.supplierOpenAccountFileVoList,function(t,i){return n("div",{key:"supplierOpenAccountFile_"+i,staticClass:"upload-item"},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.UploadUrl,headers:e.Headers,data:{index:i},"on-success":e.handledSuccess,"show-file-list":!1}},[t.openAccountFileImgurl?n("img",{staticClass:"avatar",attrs:{src:t.openAccountFileImgurl}}):t.openAccountFileUrl?n("div",{staticClass:"file"},[n("i",{staticClass:"el-icon-document avatar-uploader-icon"}),e._v(" "),n("span",[e._v(e._s(t.openAccountOldfileName))])]):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),n("div",{staticClass:"upload-data"},[n("el-form-item",{attrs:{prop:"supplierOpenAccountFileVoList["+i+"].openAccountFileName",rules:[{required:!0,message:"请输入文档名称",trigger:"blur"}]}},[n("el-input",{attrs:{size:"small",placeholder:"文档名称"},model:{value:t.openAccountFileName,callback:function(n){e.$set(t,"openAccountFileName",n)},expression:"item.openAccountFileName"}})],1),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-download"},on:{click:function(n){e.downLoadFile(t.openAccountFileImgurl||t.openAccountFileUrl,t.openAccountFileName)}}},[e._v("下载")])],1)],1)}),e._v(" "),n("div",{staticClass:"upload-item add",on:{click:e.addItem}},[n("i",{staticClass:"el-icon-plus"})])],2),e._v(" "),n("div",{staticClass:"btn-submit"},[n("el-button",{attrs:{type:"primary"},on:{click:e.saveFileList}},[e._v("保存")])],1)],1)]),e._v(" "),n("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTab,expression:"loadingTab"}],attrs:{label:"售后服务",name:"third"}},[n("h3",[e._v("售后服务内容")]),e._v(" "),e.openAccountAftersales?n("div",{staticClass:"html-content",domProps:{innerHTML:e._s(e.openAccountAftersales)}}):n("div",{staticClass:"html-content empty"},[e._v("为能快速与采购商达成交易，请尽快填写采购商开户流程，便于采购知悉开户流程及所需资料！")]),e._v(" "),n("div",{staticClass:"btn-submit"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.LinkTo("/Shop/RegisteredSettings/ModifyService")}}},[e._v("修改")])],1)])],1)],1)],1)},staticRenderFns:[]};var l=n("vSla")(a,c,!1,function(e){n("fnkm")},null,null);t.default=l.exports}});
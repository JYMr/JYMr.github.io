webpackJsonp([18],{"20PF":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("aA9S"),s=a.n(r),l=a("Jlbz"),i=a.n(l),o=a("/BvV"),n=(a("iClD"),a("w3CS"),{props:{rowdata:{type:Object},RemittanceStatus:{type:String}},data:function(){return{pageVo:{pageNo:1,size:10},passexamineVisible:!1,rejectexamineVisible:!1,rejectexamineform:{remark:"",eleId:""},formLabelWidth:"140"}},methods:{passexamine:function(e){var t=this;o.a.passexamine({eleId:e}).then(function(e){t.$message({message:"恭喜你，提交成功！",type:"success"}),t.$emit("orderListUpdate"),t.passexamineVisible=!1})},rejectexamine:function(e){var t=this;this.$refs.rejectexamineform.validate(function(a){a&&o.a.rejectexamine({eleId:e,remark:t.rejectexamineform.remarks}).then(function(e){t.$message({message:"恭喜你，提交成功！",type:"success"}),t.rejectexamineVisible=!1,t.$emit("orderListUpdate")})})},showDetail:function(e){this.$router.push({path:"/Order/All/OrderDetail",query:{id:e}})}}}),c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",[a("div",{staticClass:"cell Blue",on:{click:function(t){e.showDetail(e.rowdata.orderId)}}},[e._v(e._s(e.rowdata.orderCode))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e._f("formatDate")(e.rowdata.orderCreateTime)))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.rowdata.purchaserName||"暂无信息"))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("\n        ￥"+e._s(e.rowdata.elePayPrice)+" "),a("br"),e._v("\n        （订单总额￥"+e._s(e.rowdata.orderPayPrice-e.rowdata.discountPrice)+" 元，商家优惠￥"+e._s(e.rowdata.discountPrice||0)+"元）\n        \n        ")])]),e._v(" "),a("td",{attrs:{label:"订单状态"}},[a("div",{staticClass:"cell"},[-1==e.rowdata.supplierOrderStatus?[e._v("已删除")]:e._e(),e._v(" "),0==e.rowdata.supplierOrderStatus?[e._v("待付款")]:e._e(),e._v(" "),1==e.rowdata.supplierOrderStatus?[e._v("待处理")]:e._e(),e._v(" "),2==e.rowdata.supplierOrderStatus?[e._v("审核三证")]:e._e(),e._v(" "),3==e.rowdata.supplierOrderStatus?[e._v("三证审核不通过")]:e._e(),e._v(" "),4==e.rowdata.supplierOrderStatus?[e._v("正在开单")]:e._e(),e._v(" "),5==e.rowdata.supplierOrderStatus?[e._v("分拣中")]:e._e(),e._v(" "),6==e.rowdata.supplierOrderStatus?[e._v("待配送")]:e._e(),e._v(" "),7==e.rowdata.supplierOrderStatus?[e._v("配送中")]:e._e(),e._v(" "),8==e.rowdata.supplierOrderStatus?[e._v("交易成功")]:e._e(),e._v(" "),9==e.rowdata.supplierOrderStatus?[e._v("交易关闭")]:e._e(),e._v(" "),10==e.rowdata.supplierOrderStatus?[e._v("待审核支付凭证")]:e._e()],2)]),e._v(" "),a("td",{attrs:{label:"审核图片"}},[a("div",{staticClass:"cell",staticStyle:{width:"120px",height:"120px"}},[e.rowdata.imgUrl?[a("el-popover",{attrs:{placement:"right",title:"",trigger:"hover"}},[a("img",{staticStyle:{"max-height":"500px","max-width":"500px"},attrs:{src:e.rowdata.imgUrl}}),e._v(" "),a("img",{staticStyle:{width:"120px",height:"120px"},attrs:{slot:"reference",src:e.rowdata.imgUrl,alt:e.rowdata.imgUrl},slot:"reference"})])]:e._e()],2)]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e._f("formatDate")(e.rowdata.createTime)))])]),e._v(" "),a("td",{attrs:{label:"操作"}},[a("div",{staticClass:"cell"},[0==e.rowdata.eleStatus?[a("el-dropdown",[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("操作")]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){e.passexamineVisible=!0}}},[e._v("审核通过")]),e._v(" "),a("el-dropdown-item",{nativeOn:{click:function(t){e.rejectexamineVisible=!0}}},[e._v("审核不通过")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"审核通过",visible:e.passexamineVisible},on:{"update:visible":function(t){e.passexamineVisible=t}}},[a("el-form",[a("p",[e._v(e._s(e.rowdata.orderCode)+" 确定该订单已收款？")])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.passexamineVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.passexamine(e.rowdata.eleId)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"审核不通过",visible:e.rejectexamineVisible},on:{"update:visible":function(t){e.rejectexamineVisible=t}}},[a("el-form",{ref:"rejectexamineform",attrs:{model:e.rejectexamineform}},[a("el-form-item",{attrs:{label:"审核不通过原因","label-width":e.formLabelWidth,prop:"remarks",rules:[{required:!0,message:"请填写审核不通过原因",trigger:"blur"}]}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",placeholder:"请填写审核不通过原因"},model:{value:e.rejectexamineform.remarks,callback:function(t){e.$set(e.rejectexamineform,"remarks",t)},expression:"rejectexamineform.remarks"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.rejectexamineVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.rejectexamine(e.rowdata.eleId)}}},[e._v("确 定")])],1)],1)]:e._e(),e._v(" "),1==e.rowdata.eleStatus?[a("p",{staticClass:"success"},[e._v("审核通过")]),e._v("\n                "+e._s(e._f("formatDate")(e.rowdata.updateTime))+" \n            ")]:e._e(),e._v(" "),2==e.rowdata.eleStatus?[a("p",{staticClass:"error"},[e._v("审核不通过")]),e._v("\n                "+e._s(e._f("formatDate")(e.rowdata.updateTime))+" \n            ")]:e._e()],2)])])},staticRenderFns:[]};var m=a("vSla")(n,c,!1,function(e){a("lPL6")},null,null).exports,d={data:function(){return{searchform:{},tableData:{},isMoreShow:!1,loadingTab:!1,tabsdata:[{name:"全部订单",status:""},{name:"待审核",status:"0"},{name:"审核通过",status:"1"},{name:"审核不通过",status:"2"}],pageVo:{pageNo:1,size:10},RemittanceStatus:"",activeName:"card0"}},mounted:function(){this.getRemittanceList()},methods:{moreForm:function(){this.isMoreShow=!this.isMoreShow},getRemittanceList:function(e){var t=this;this.loadingTab=!0;var a=s()({pageVo:this.pageVo},e);o.a.getelectroniclist(a).then(function(e){t.loadingTab=!1,t.tableData=e})},tabgetRemittanceList:function(e){var t=parseInt(this.tabsdata[e.index].status);this.RemittanceStatus=t,this.getRemittanceList({eleStatus:t}),this.searchform={}},searchRemittancelists:function(){this.getRemittanceList(this.searchform),this.activeName="card0",this.RemittanceStatus=""},paginationChange:function(e){this.pageVo.pageNo=parseInt(e);var t=s()({pageVo:this.pageVo},this.searchform,{eleStatus:this.RemittanceStatus});this.getRemittanceList(t)},paginationSizeChange:function(e){this.pageVo={pageNo:1,size:parseInt(e)};var t=s()({pageVo:this.pageVo},this.searchform,{eleStatus:this.RemittanceStatus});this.getRemittanceList(t)}},components:{"el-collapse-transition":i.a,RemittanceTable:m}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("AutoBreadcrumb"),e._v(" "),a("div",{staticClass:"Remittance content-box"},[a("el-form",{attrs:{model:e.searchform,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"订单ID"}},[a("el-input",{model:{value:e.searchform.orderCode,callback:function(t){e.$set(e.searchform,"orderCode",t)},expression:"searchform.orderCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"药店名称"}},[a("el-input",{model:{value:e.searchform.purchaserName,callback:function(t){e.$set(e.searchform,"purchaserName",t)},expression:"searchform.purchaserName"}})],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{model:{value:e.searchform.phone,callback:function(t){e.$set(e.searchform,"phone",t)},expression:"searchform.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchform.eleStatus,callback:function(t){e.$set(e.searchform,"eleStatus",t)},expression:"searchform.eleStatus"}},[a("el-option",{attrs:{value:"0",label:"待审核"}}),e._v(" "),a("el-option",{attrs:{value:"1",label:"审核通过"}}),e._v(" "),a("el-option",{attrs:{value:"2",label:"审核不通过"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"提交时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.searchform.createTimeStart,callback:function(t){e.$set(e.searchform,"createTimeStart",t)},expression:"searchform.createTimeStart"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:1}},[e._v("-")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.searchform.createTimeEnd,callback:function(t){e.$set(e.searchform,"createTimeEnd",t)},expression:"searchform.createTimeEnd"}})],1)],1)],1)],1),e._v(" "),a("el-collapse-transition",[e.isMoreShow?a("el-row",[a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"审核时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.searchform.passTimeStart,callback:function(t){e.$set(e.searchform,"passTimeStart",t)},expression:"searchform.passTimeStart"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:1}},[e._v("-")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.searchform.passTimeEnd,callback:function(t){e.$set(e.searchform,"passTimeEnd",t)},expression:"searchform.passTimeEnd"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"订单状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchform.orderRefundStatus,callback:function(t){e.$set(e.searchform,"orderRefundStatus",t)},expression:"searchform.orderRefundStatus"}},[a("el-option",{attrs:{value:"0",label:"正常"}}),e._v(" "),a("el-option",{attrs:{value:"1",label:"退款中"}}),e._v(" "),a("el-option",{attrs:{value:"2",label:"纠纷中"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"订单交易状态","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchform.supplierOrderStatus,callback:function(t){e.$set(e.searchform,"supplierOrderStatus",t)},expression:"searchform.supplierOrderStatus"}},[a("el-option",{attrs:{value:"-1",label:"已删除"}}),e._v(" "),a("el-option",{attrs:{value:"0",label:"待付款"}}),e._v(" "),a("el-option",{attrs:{value:"1",label:"待处理"}}),e._v(" "),a("el-option",{attrs:{value:"2",label:"审核三证"}}),e._v(" "),a("el-option",{attrs:{value:"3",label:"三证审核不通过"}}),e._v(" "),a("el-option",{attrs:{value:"4",label:"正在开单"}}),e._v(" "),a("el-option",{attrs:{value:"5",label:"分拣中"}}),e._v(" "),a("el-option",{attrs:{value:"6",label:"待配送"}}),e._v(" "),a("el-option",{attrs:{value:"7",label:"配送中"}}),e._v(" "),a("el-option",{attrs:{value:"8",label:"交易成功"}}),e._v(" "),a("el-option",{attrs:{value:"9",label:"交易关闭"}}),e._v(" "),a("el-option",{attrs:{value:"10",label:"待审核支付凭证"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"结算状态"}},[a("el-select",{model:{value:e.searchform.settlementStatus,callback:function(t){e.$set(e.searchform,"settlementStatus",t)},expression:"searchform.settlementStatus"}},[a("el-option",{attrs:{value:"0",label:"未结算"}}),e._v(" "),a("el-option",{attrs:{value:"1",label:"已结算"}}),e._v(" "),a("el-option",{attrs:{value:"2",label:"结算中"}}),e._v(" "),a("el-option",{attrs:{value:"3",label:"无需结算"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"下单时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.searchform.orderCreateTimeStart,callback:function(t){e.$set(e.searchform,"orderCreateTimeStart",t)},expression:"searchform.orderCreateTimeStart"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:1}},[e._v("-")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.searchform.orderCreateTimeEnd,callback:function(t){e.$set(e.searchform,"orderCreateTimeEnd",t)},expression:"searchform.orderCreateTimeEnd"}})],1)],1)],1)],1):e._e()],1),e._v(" "),a("el-row",[a("el-col",{attrs:{md:23}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.searchRemittancelists}},[e._v("搜索")])],1)],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{lg:1}},[a("span",{staticClass:"search-more"},[a("i",{class:[e.isMoreShow?"el-icon-arrow-up":"el-icon-arrow-down"],on:{click:e.moreForm}})])])],1)],1),e._v(" "),e.tabsdata.length>0?[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.tabgetRemittanceList},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabsdata,function(t,r){return a("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTab,expression:"loadingTab"}],key:r,attrs:{lazy:!0,name:"card"+r,label:t.name}},[a("div",{staticClass:"el-table el-table--fit el-table--border el-table--enable-row-hover el-table--enable-row-transition"},[a("div",{staticClass:"el-table__header-wrapper"},[a("table",{staticClass:"el-table__header",staticStyle:{width:"100%"},attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[a("thead",{staticClass:"has-gutter"},[a("tr",{},[a("th",[a("div",{staticClass:"cell"},[e._v("订单ID")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("下单时间")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("药店信息")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("电汇支付金额")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("订单状态")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("审核图片")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("提交时间")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("操作")])])])]),e._v(" "),e._l(e.tableData.list,function(t,r){return a("RemittanceTable",{key:r,attrs:{RemittanceStatus:t.status,rowdata:t},on:{orderListUpdate:e.getRemittanceList,"update:RemittanceStatus":function(a){e.$set(t,"status",a)}}})})],2)])]),e._v(" "),a("div",{staticClass:"table-pagination"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next",total:Number(e.tableData.total),"current-page":e.tableData.pageNum,"page-sizes":[10,20,30,50,100],"prev-text":"上一页","next-text":"下一页"},on:{"current-change":e.paginationChange,"size-change":e.paginationSizeChange}})],1)])}))]:e._e()],2)],1)},staticRenderFns:[]};var v=a("vSla")(d,p,!1,function(e){a("OiXy")},null,null);t.default=v.exports},OiXy:function(e,t){},lPL6:function(e,t){}});
webpackJsonp([9],{IQXp:function(e,i){},eS3T:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t("hY9u"),r=t("aA9S"),s=t.n(r),l=t("HzJ8"),n=t.n(l),o=t("4YfN"),u=t.n(o),c=t("zuY+"),d=t("1MSS"),f={props:{visible:{type:Boolean,required:!0},supplierAuditId:{type:String},id:{type:String}},data:function(){return{title:"编辑商圈",form:{tradingAreaName:"",tradingAreaVos:""},areadata:[],defaultProps:{children:"children",label:"regionName"},defaultData:[],dialogVisible:!1,loading:!1}},mounted:function(){},methods:{init:function(){var e=this;setTimeout(function(){e.$refs.form.resetFields(),e.form.tradingId="",e.defaultData=[],e.id?(e.getSupplierTrade(e.id),e.title="编辑商圈"):(e.title="添加商圈",e.getProvince()),e.areadata=[]},0)},getSupplierTrade:function(){var e=this;a.a.getSupplierTradeById(this.id).then(function(i){var t=i.tradingAreaVos.map(function(e){return e.areaId}),a=i.tradingAreaVos=t;e.form=i,e.getProvince(a)})},getProvince:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.loading=!0,c.a.getallProAndCityRegion().then(function(t){e.areadata=e.formatter(t),i.length>0&&(e.defaultData=e.checkArea(e.areadata,i)),e.loading=!1})},save:function(){var e=this;this.$refs.form.validate(function(i){if(i){var t=e.form;t.supplierAuditId=e.supplierAuditId,t.tradingAreaVos=t.tradingAreaVos.map(function(e){return{areaId:e}}),a.a.addSupplierTrade(t).then(function(i){e.$message.success("保存成功!"),e.$emit("saveEvent"),e.dialogVisible=!1})}})},treecheck:function(e,i,t,a){this.form.tradingAreaVos=i.checkedKeys},formatter:function(e){for(var i=[],t={},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"regionId",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"regionParentId",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"children",l=0,n=0,o=e.length;l<o;l++)t[e[l][a]]=e[l];for(;n<o;n++){var u=e[n],c=t[u[r]];c?(!c[s]&&(c[s]=[]),c[s].push(u)):i.push(u)}return i},checkArea:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.areadata,i=arguments[1],t=[],a=!0,r=!1,s=void 0;try{for(var l,o=n()(e);!(a=(l=o.next()).done);a=!0){var u=l.value;if(u.children){var c=u.children,d=this.checkArea(u.children,i);if(c===d.length){var f=!0,p=!1,m=void 0;try{for(var v,g=n()(this.defaultData);!(f=(v=g.next()).done);f=!0){var h=v.value;h==u.regionId&&t.push(h)}}catch(e){p=!0,m=e}finally{try{!f&&g.return&&g.return()}finally{if(p)throw m}}}t=t.concat(d)}else{var b=!0,q=!1,y=void 0;try{for(var k,_=n()(i);!(b=(k=_.next()).done);b=!0){var B=k.value;B==u.regionId&&t.push(B)}}catch(e){q=!0,y=e}finally{try{!b&&_.return&&_.return()}finally{if(q)throw y}}}}}catch(e){r=!0,s=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw s}}return t}},watch:{visible:function(e,i){this.dialogVisible=e},dialogVisible:function(e,i){e||this.$emit("update:visible",e)}}},p={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(i){e.dialogVisible=i},open:e.init}},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"140px"}},[t("el-form-item",{attrs:{label:"商圈名称",prop:"tradingAreaName",rules:[{required:!0,message:"请输入商圈名称",trigger:"blur"}]}},[t("el-col",{attrs:{span:16}},[t("el-input",{model:{value:e.form.tradingAreaName,callback:function(i){e.$set(e.form,"tradingAreaName",i)},expression:"form.tradingAreaName"}})],1)],1),e._v(" "),t("el-form-item",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{label:"选择商圈",prop:"tradingAreaVos",rules:[{required:!0,message:"请选择商圈",trigger:"blur"}]}},[t("el-col",{attrs:{span:16}},[t("el-tree",{ref:"tree",attrs:{props:e.defaultProps,data:e.areadata,"default-checked-keys":e.defaultData,"node-key":"regionId","show-checkbox":""},on:{check:e.treecheck}})],1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(i){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var m=t("vSla")(f,p,!1,function(e){t("IQXp")},null,null).exports,v=t("w3CS"),g={data:function(){return{form:{supplierTradingVoList:[]},active:0,formcertificate:{certificateList:[{qualificationName:"营业执照",required:!0,ismerge:!0,isadd:!1,isNeedData:!0,isLongTime:!0,qualificationThreeCertificate:0,qualificationLongEffective:0,qualificationStartTime:"",qualificationEndTime:""},{qualificationName:"法人授权委托书",required:!0,ismerge:!1,isadd:!1,isNeedData:!0,isLongTime:!0,qualificationThreeCertificate:0,qualificationLongEffective:0,qualificationStartTime:"",qualificationEndTime:""},{qualificationName:"法人授权委托书被委托人身份证正反面",required:!0,ismerge:!1,isadd:!1,isNeedData:!0,isLongTime:!0,qualificationThreeCertificate:0,qualificationLongEffective:0,qualificationStartTime:"",qualificationEndTime:""},{qualificationName:"药品生产许可证",required:!0,ismerge:!1,isadd:!1,isNeedData:!0,isLongTime:!1,qualificationThreeCertificate:0,qualificationLongEffective:0,qualificationStartTime:"",qualificationEndTime:""},{qualificationName:"医疗器械许可证",required:!0,ismerge:!1,isadd:!1,isNeedData:!0,isLongTime:!0,qualificationThreeCertificate:0,qualificationLongEffective:0,qualificationStartTime:"",qualificationEndTime:""},{qualificationName:"GMP认证证书",required:!0,ismerge:!1,isadd:!1,isNeedData:!0,isLongTime:!1,qualificationThreeCertificate:0,qualificationLongEffective:0,qualificationStartTime:"",qualificationEndTime:""},{qualificationName:"指定账户公函",required:!0,ismerge:!1,isadd:!1,isNeedData:!1,isLongTime:!0,qualificationThreeCertificate:0,qualificationLongEffective:0,qualificationStartTime:"",qualificationEndTime:""},{qualificationName:"相关印章",required:!1,ismerge:!1,isadd:!1,isNeedData:!1,isLongTime:!0,qualificationThreeCertificate:0,qualificationLongEffective:0,qualificationStartTime:"",qualificationEndTime:""},{qualificationName:"随货同行单(票)样式",required:!1,ismerge:!1,isadd:!1,isNeedData:!1,isLongTime:!0,qualificationThreeCertificate:0,qualificationLongEffective:0,qualificationStartTime:"",qualificationEndTime:""},{qualificationName:"营业执照年报",required:!1,ismerge:!1,isadd:!1,isNeedData:!0,isLongTime:!1,qualificationThreeCertificate:0,qualificationLongEffective:0,qualificationStartTime:"",qualificationEndTime:""}]},area:{Province:[],City:[],Area:[]},areaBank:{Province:[],City:[],Area:[]},Warehouse:{Province:[],City:[],Area:[]},SScoBusinessList:[],transferdata:[],props:{key:"productionBusinessId",label:"productionBusinessName"},status:0,imageUrl:"",visible:!1,SupplierTradeid:"",loading:!1,supplierTradingLoading:!1,validateCertificateList:v.a.validateCertificateList,validator:v.a}},mounted:function(){this.getProvince(),this.getData(),this.getSScoBusinessList()},methods:{saveSupplierAudit:function(){var e=this,i=this.formatter();a.a.saveSupplierAudit(i).then(function(i){e.$message.success("保存成功")})},submitSupplierAuditing:function(){var e=this;this.$refs.form4.validate(function(i){if(i){var t=e.formatter();t.qualificationList=t.qualificationList.map(function(e){return u()({},e,{qualificationId:null})}),a.a.submitSupplierAuditing(t).then(function(i){e.$message.success("提交审核成功"),e.getData(),e.active=0})}})},getData:function(){var e=this;this.loading=!0,a.a.getSupplierInfoBySupplierId().then(function(i){e.loading=!1,e.form=i,e.status=i.supplierAuditResult,e.form.audScoBusinessList=i.audScoBusinessList.map(function(e){return e.scopeBusinessId}),e.form.audProBusinessList=i.audProBusinessList.map(function(e){return e.productionBusinessId}),e.handleSScoBusinessChange(),e.formcertificate=e.initQualificationList(i.qualificationList),i.supplierUnitProvince&&e.getRegionListByPid(i.supplierUnitProvince,"area","City"),i.supplierUnitCity&&e.getRegionListByPid(i.supplierUnitCity,"area","Area"),i.supplierWarehouseProvince&&e.getRegionListByPid(i.supplierWarehouseProvince,"Warehouse","City"),i.supplierWarehouseCity&&e.getRegionListByPid(i.supplierWarehouseCity,"Warehouse","Area"),i.supplierBankProvince&&e.getRegionListByPid(i.supplierBankProvince,"areaBank","City"),i.supplierBankCity&&e.getRegionListByPid(i.supplierBankCity,"areaBank","Area")})},getSScoBusinessList:function(){var e=this;a.a.getSScoBusinessList().then(function(i){e.SScoBusinessList=i})},getProvince:function(){var e=this;c.a.getprovince().then(function(i){e.area.Province=i,e.areaBank.Province=i,e.Warehouse.Province=i})},getRegionListByPid:function(e,i,t){var a=this;c.a.getRegionListByPid(e).then(function(e){a[i][t]=e})},handleChange:function(e,i,t,a){"City"==t?(this.form[e+"City"]="",this.form[e+"Area"]=""):"Area"==t&&(this.form[e+"Area"]=""),this.getRegionListByPid(a,i,t)},handleSScoBusinessChange:function(e){var i=this,t=this.form.audProBusinessList;a.a.getSProBusinessListByIds(this.form.audScoBusinessList).then(function(e){for(var a in i.transferdata=e,t){var r=t[a],s=!1,l=!0,o=!1,u=void 0;try{for(var c,d=n()(e);!(l=(c=d.next()).done);l=!0){if(r===c.value.productionBusinessId){s=!0;break}}}catch(e){o=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(o)throw u}}s||t.splice(a,1)}i.form.audProBusinessList=t})},beforeUpload:function(e){var i=["image/jpeg","image/png"].indexOf(e.type)>-1;return i||this.$message.error("上传图片只能是 JPG 或 PNG 格式!"),i},handledSuccess:function(e,i){200==e.code?this.$set(this.formcertificate.certificateList[e.data.index],"qualificationUrl",e.data.url):this.$message.error("上传失败")},next:function(){var e=this;if(1==this.status)return this.active=this.active+1,void(document.getElementsByClassName("el-main")[0].scrollTop=0);this.$refs["form"+(this.active+1)].validate(function(i){i?(e.active=e.active+1,document.getElementsByClassName("el-main")[0].scrollTop=0):e.$message.error("请完善表单")})},prev:function(){this.active=this.active-1,document.getElementsByClassName("el-main")[0].scrollTop=0},addcertificateItem:function(){this.formcertificate.certificateList.push({qualificationName:"",qualificationNum:"",qualificationStartTime:"",qualificationEndTime:"",qualificationUrl:"",required:!1,ismerge:!1,isadd:!0,isNeedData:!0,isLongTime:!0})},delcertificateItem:function(e){var i=this;""!==this.formcertificate.certificateList[e].qualificationName||""!==this.formcertificate.certificateList[e].qualificationNum||""!==this.formcertificate.certificateList[e].qualificationStartTime||""!==this.formcertificate.certificateList[e].qualificationEndTime?this.$confirm("该资质证书存在内容，是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.formcertificate.certificateList.splice(e,1)}).catch(function(){}):this.formcertificate.certificateList.splice(e,1)},getupplierTrade:function(){var e=this;this.supplierTradingLoading=!0;var i=this.form.supplierAuditId;a.a.getSupplierTradeBySupplierAuditId(i).then(function(i){e.supplierTradingLoading=!1,e.$set(e.form,"supplierTradingVoList",i)}).catch(function(){e.supplierTradingLoading=!1})},addSupplierTrade:function(e){1!=this.status&&(this.SupplierTradeid=e,this.visible=!0)},deleteSupplierTrade:function(e){var i=this;this.$confirm("是否删除该商圈?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.a.deleteSupplierTradeById(e).then(function(e){i.$message.success("删除成功"),i.getupplierTrade()})}).catch(function(){})},saveEvent:function(){this.getupplierTrade()},initQualificationList:function(e){var i=this.formcertificate,t=[],a=!0,r=!1,l=void 0;try{for(var o,c=n()(e);!(a=(o=c.next()).done);a=!0){var d=o.value,f=d.qualificationName,p=!1,m=!0,v=!1,g=void 0;try{for(var h,b=n()(i.certificateList);!(m=(h=b.next()).done);m=!0){var q=h.value;q.qualificationName===f&&(q=s()(q,d),p=!0)}}catch(e){v=!0,g=e}finally{try{!m&&b.return&&b.return()}finally{if(v)throw g}}p||t.push(u()({},d,{isadd:!0,isNeedData:!0,isLongTime:!0}))}}catch(e){r=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(r)throw l}}return i.certificateList=i.certificateList.concat(t),i},formatter:function(){var e=this.form,i=e.supplierAuditId,t=[],a=!0,r=!1,s=void 0;try{for(var l,o=n()(this.formcertificate.certificateList);!(a=(l=o.next()).done);a=!0){var c=l.value,d=c.qualificationId,f=c.qualificationName,p=c.qualificationNum,m=c.qualificationStartTime,v=c.qualificationEndTime,g=c.qualificationUrl,h=c.qualificationLongEffective,b=c.qualificationThreeCertificate;t.push({qualificationId:d,qualificationName:f,qualificationNum:p,qualificationStartTime:m,qualificationEndTime:v,qualificationUrl:g||"",qualificationLongEffective:h,qualificationThreeCertificate:b,supplierAuditId:i||""})}}catch(e){r=!0,s=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw s}}e.qualificationList=t;var q=e.audScoBusinessList.map(function(e){return{scopeBusinessId:e,supplierAuditId:i}}),y=e.audProBusinessList.map(function(e){return{productionBusinessId:e,supplierAuditId:i}});return u()({},e,{qualificationList:t,audProBusinessList:y,audScoBusinessList:q})}},components:{TradingSelector:m,oneupload:d.a}},h={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("div",{staticClass:"content-box"},[t("el-steps",{attrs:{active:e.active,"finish-status":"success","align-center":""}},[t("el-step",{attrs:{title:"企业基础信息"}}),e._v(" "),t("el-step",{attrs:{title:"企业资质"}}),e._v(" "),t("el-step",{attrs:{title:"结算账户"}}),e._v(" "),t("el-step",{attrs:{title:"交易范围"}})],1),e._v(" "),t("el-form",{ref:"form1",attrs:{model:e.form,"label-width":"140px"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:0==e.active,expression:"active == 0"}],staticClass:"step step-1"},[t("el-col",{attrs:{span:16,offset:4}},[t("el-form-item",{attrs:{label:"单位名称",prop:"supplierName",rules:[{required:!0,message:"请输入单位名称",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{disabled:1==e.status},model:{value:e.form.supplierName,callback:function(i){e.$set(e.form,"supplierName",i)},expression:"form.supplierName"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"单位简称",prop:"supplierShortname",rules:[{required:!0,message:"请输入单位简称",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{disabled:1==e.status},model:{value:e.form.supplierShortname,callback:function(i){e.$set(e.form,"supplierShortname",i)},expression:"form.supplierShortname"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"法定代表人",prop:"supplierLegalRepresentative",rules:[{required:!0,message:"请输入法定代表人",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{disabled:1==e.status},model:{value:e.form.supplierLegalRepresentative,callback:function(i){e.$set(e.form,"supplierLegalRepresentative",i)},expression:"form.supplierLegalRepresentative"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"单位类型",prop:"supplierType",rules:[{required:!0,message:"请选择单位类型",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-select",{attrs:{placeholder:"请选择",disabled:1==e.status},model:{value:e.form.supplierType,callback:function(i){e.$set(e.form,"supplierType",i)},expression:"form.supplierType"}},[t("el-option",{attrs:{label:"商业公司",value:"商业公司"}}),e._v(" "),t("el-option",{attrs:{label:"生产企业",value:"生产企业"}}),e._v(" "),t("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"单位所在地",prop:"supplierUnitArea",rules:[{required:!0,message:"请选择完整的单位所在地省市区",trigger:"blur"}]}},[t("el-col",{attrs:{lg:5}},[t("el-select",{attrs:{placeholder:"请选择",disabled:1==e.status},on:{change:function(i){for(var t=arguments.length,a=Array(t);t--;)a[t]=arguments[t];e.handleChange.apply(void 0,["supplierUnit","area","City"].concat(a))}},model:{value:e.form.supplierUnitProvince,callback:function(i){e.$set(e.form,"supplierUnitProvince",i)},expression:"form.supplierUnitProvince"}},e._l(e.area.Province,function(e){return t("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})}))],1),e._v(" "),t("el-col",{attrs:{lg:5,offset:1}},[t("el-select",{attrs:{placeholder:"请选择",disabled:1==e.status},on:{change:function(i){for(var t=arguments.length,a=Array(t);t--;)a[t]=arguments[t];e.handleChange.apply(void 0,["supplierUnit","area","Area"].concat(a))}},model:{value:e.form.supplierUnitCity,callback:function(i){e.$set(e.form,"supplierUnitCity",i)},expression:"form.supplierUnitCity"}},e._l(e.area.City,function(e){return t("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})}))],1),e._v(" "),t("el-col",{attrs:{lg:5,offset:1}},[t("el-select",{attrs:{placeholder:"请选择",disabled:1==e.status},model:{value:e.form.supplierUnitArea,callback:function(i){e.$set(e.form,"supplierUnitArea",i)},expression:"form.supplierUnitArea"}},e._l(e.area.Area,function(e){return t("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})}))],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"单位详细地址",prop:"supplierUnitAddress",rules:[{required:!0,message:"请输入单位详细地址",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{disabled:1==e.status},model:{value:e.form.supplierUnitAddress,callback:function(i){e.$set(e.form,"supplierUnitAddress",i)},expression:"form.supplierUnitAddress"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"被委托人",prop:"supplierMandatary",rules:[{required:!0,message:"请输入被委托人",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{disabled:1==e.status},model:{value:e.form.supplierMandatary,callback:function(i){e.$set(e.form,"supplierMandatary",i)},expression:"form.supplierMandatary"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"身份证号",prop:"supplierIdcard",rules:[{required:!0,message:"请输入身份证号",trigger:"blur"},{validator:e.validator.idcard,trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{disabled:1==e.status},model:{value:e.form.supplierIdcard,callback:function(i){e.$set(e.form,"supplierIdcard",i)},expression:"form.supplierIdcard"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号码",prop:"supplierMobile",rules:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:e.validator.phone,trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{disabled:1==e.status},model:{value:e.form.supplierMobile,callback:function(i){e.$set(e.form,"supplierMobile",i)},expression:"form.supplierMobile"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"联系邮箱",prop:"supplierEmail",rules:[{required:!0,message:"请输入联系邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{disabled:1==e.status},model:{value:e.form.supplierEmail,callback:function(i){e.$set(e.form,"supplierEmail",i)},expression:"form.supplierEmail"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"联系人",prop:"supplierLinkman",rules:[{required:!0,message:"请输入联系人",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{disabled:1==e.status},model:{value:e.form.supplierLinkman,callback:function(i){e.$set(e.form,"supplierLinkman",i)},expression:"form.supplierLinkman"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"仓库地址",prop:"supplierWarehouseArea",rules:[{required:!0,message:"请选择完整的仓库地址省市区",trigger:"blur"}]}},[t("el-col",{attrs:{lg:5}},[t("el-select",{attrs:{placeholder:"请选择",disabled:1==e.status},on:{change:function(i){for(var t=arguments.length,a=Array(t);t--;)a[t]=arguments[t];e.handleChange.apply(void 0,["supplierWarehouse","Warehouse","City"].concat(a))}},model:{value:e.form.supplierWarehouseProvince,callback:function(i){e.$set(e.form,"supplierWarehouseProvince",i)},expression:"form.supplierWarehouseProvince"}},e._l(e.Warehouse.Province,function(e){return t("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})}))],1),e._v(" "),t("el-col",{attrs:{lg:5,offset:1}},[t("el-select",{attrs:{placeholder:"请选择",disabled:1==e.status},on:{change:function(i){for(var t=arguments.length,a=Array(t);t--;)a[t]=arguments[t];e.handleChange.apply(void 0,["supplierWarehouse","Warehouse","Area"].concat(a))}},model:{value:e.form.supplierWarehouseCity,callback:function(i){e.$set(e.form,"supplierWarehouseCity",i)},expression:"form.supplierWarehouseCity"}},e._l(e.Warehouse.City,function(e){return t("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})}))],1),e._v(" "),t("el-col",{attrs:{lg:5,offset:1}},[t("el-select",{attrs:{placeholder:"请选择",disabled:1==e.status},model:{value:e.form.supplierWarehouseArea,callback:function(i){e.$set(e.form,"supplierWarehouseArea",i)},expression:"form.supplierWarehouseArea"}},e._l(e.Warehouse.Area,function(e){return t("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})}))],1)],1),e._v(" "),t("el-form-item",{attrs:{prop:"supplierWarehouseAddress",rules:[{required:!0,message:"请输入仓库详细地址",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{disabled:1==e.status},model:{value:e.form.supplierWarehouseAddress,callback:function(i){e.$set(e.form,"supplierWarehouseAddress",i)},expression:"form.supplierWarehouseAddress"}})],1)],1),e._v(" "),t("div",{staticClass:"btn-submit"},[t("el-button",{attrs:{type:"primary"},on:{click:e.next}},[e._v("下一步")]),e._v(" "),1==e.status?t("el-button",{attrs:{type:"info"}},[e._v("审核中")]):e._e()],1)],1)],1)]),e._v(" "),t("el-form",{ref:"form2",attrs:{model:e.formcertificate}},[t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.active,expression:"active == 1"}],staticClass:"step step-2"},[t("div",{staticClass:"certificate-list"},[e._l(e.formcertificate.certificateList,function(i,a){return t("div",{key:a,staticClass:"certificate-item"},[t("div",{staticClass:"certificate-item-content"},[i.isadd?t("div",{staticClass:"certificate-name"},[t("el-input",{attrs:{placeholder:"请输入资质名称",size:"small",disabled:1==e.status},model:{value:i.qualificationName,callback:function(t){e.$set(i,"qualificationName",t)},expression:"item.qualificationName"}}),e._v(" "),t("i",{staticClass:"el-icon-close",on:{click:function(i){e.delcertificateItem(a)}}})],1):t("h4",[e._v("\n                                "+e._s(i.qualificationName)),i.required?t("i",[e._v("*")]):e._e()]),e._v(" "),t("el-form-item",{staticClass:"avatar-uploader",attrs:{prop:"certificateList["+a+"]",rules:i.required?[{validator:e.validateCertificateList.image,trigger:"change"}]:[]}},[t("oneupload",{attrs:{disabled:1==e.status,rules:["image/jpeg","image/png"]},model:{value:i.qualificationUrl,callback:function(t){e.$set(i,"qualificationUrl",t)},expression:"item.qualificationUrl"}})],1),e._v(" "),i.isNeedData?t("div",{staticClass:"certificate-input"},[t("el-form-item",{attrs:{prop:"certificateList["+a+"]",rules:i.required?[{validator:e.validateCertificateList.number,trigger:"blur"}]:[]}},[t("el-input",{attrs:{placeholder:"证件号",size:"small",disabled:1==e.status},model:{value:i.qualificationNum,callback:function(t){e.$set(i,"qualificationNum",t)},expression:"item.qualificationNum"}})],1),e._v(" "),i.qualificationLongEffective?e._e():t("el-form-item",{attrs:{prop:"certificateList["+a+"]",rules:i.required?[{validator:e.validateCertificateList.startTime,trigger:"blur"}]:[]}},[t("el-date-picker",{attrs:{type:"date",placeholder:"开始日期",size:"small","value-format":"timestamp",disabled:1==e.status},model:{value:i.qualificationStartTime,callback:function(t){e.$set(i,"qualificationStartTime",e._n(t))},expression:"item.qualificationStartTime"}})],1),e._v(" "),i.qualificationLongEffective?e._e():t("el-form-item",{attrs:{prop:"certificateList["+a+"]",rules:i.required?[{validator:e.validateCertificateList.endTime,trigger:"blur"}]:[]}},[t("el-date-picker",{attrs:{type:"date",placeholder:"结束日期",size:"small","value-format":"timestamp",disabled:1==e.status},model:{value:i.qualificationEndTime,callback:function(t){e.$set(i,"qualificationEndTime",e._n(t))},expression:"item.qualificationEndTime"}})],1)],1):e._e(),e._v(" "),i.isNeedData?t("div",{staticClass:"choose"},[i.ismerge?t("el-checkbox",{attrs:{"true-label":1,"false-label":0,disabled:1==e.status},model:{value:i.qualificationThreeCertificate,callback:function(t){e.$set(i,"qualificationThreeCertificate",t)},expression:"item.qualificationThreeCertificate"}},[e._v("\n                                    三证合一\n                                ")]):e._e(),e._v(" "),i.isLongTime?t("el-checkbox",{attrs:{"true-label":1,"false-label":0,disabled:1==e.status},model:{value:i.qualificationLongEffective,callback:function(t){e.$set(i,"qualificationLongEffective",t)},expression:"item.qualificationLongEffective"}},[e._v("\n                                    长期有效\n                                ")]):e._e()],1):e._e()],1)])}),e._v(" "),t("div",{staticClass:"certificate-item"},[t("div",{staticClass:"certificate-item-content add",on:{click:e.addcertificateItem}},[t("i",{staticClass:"el-icon-plus"})])])],2),e._v(" "),t("div",{staticClass:"btn-submit"},[t("el-button",{attrs:{type:"info"},on:{click:e.prev}},[e._v("上一步")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.next}},[e._v("下一步")]),e._v(" "),1==e.status?t("el-button",{attrs:{type:"info"}},[e._v("审核中")]):e._e()],1)])]),e._v(" "),t("el-form",{ref:"form3",attrs:{model:e.form,"label-width":"140px"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:2==e.active,expression:"active == 2"}],staticClass:"step step-3"},[t("el-col",{attrs:{span:16,offset:4}},[t("el-form-item",{attrs:{label:"收款银行卡号",prop:"supplierBankNumber",rules:[{required:!0,message:"请输入收款银行卡号",trigger:"blur"},{validator:e.validator.creditcard,trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{disabled:1==e.status},model:{value:e.form.supplierBankNumber,callback:function(i){e.$set(e.form,"supplierBankNumber",i)},expression:"form.supplierBankNumber"}}),e._v(" "),t("el-checkbox",{attrs:{"true-label":1,"false-label":0,disabled:1==e.status},model:{value:e.form.supplierBankBroughtAccount,callback:function(i){e.$set(e.form,"supplierBankBroughtAccount",i)},expression:"form.supplierBankBroughtAccount"}},[e._v("\n                            是否对公账户\n                        ")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"开户人",prop:"supplierBankPerson",rules:[{required:!0,message:"请输入开户人",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{disabled:1==e.status},model:{value:e.form.supplierBankPerson,callback:function(i){e.$set(e.form,"supplierBankPerson",i)},expression:"form.supplierBankPerson"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"开户银行",prop:"supplierBankName",rules:[{required:!0,message:"请输入开户银行",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{disabled:1==e.status},model:{value:e.form.supplierBankName,callback:function(i){e.$set(e.form,"supplierBankName",i)},expression:"form.supplierBankName"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"开户银行所在地",prop:"supplierBankArea",rules:[{required:!0,message:"请输入选择完整的开户银行所在地",trigger:"blur"}]}},[t("el-col",{attrs:{lg:5}},[t("el-select",{attrs:{placeholder:"请选择",disabled:1==e.status},on:{change:function(i){for(var t=arguments.length,a=Array(t);t--;)a[t]=arguments[t];e.handleChange.apply(void 0,["supplierBank","areaBank","City"].concat(a))}},model:{value:e.form.supplierBankProvince,callback:function(i){e.$set(e.form,"supplierBankProvince",i)},expression:"form.supplierBankProvince"}},e._l(e.areaBank.Province,function(e){return t("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})}))],1),e._v(" "),t("el-col",{attrs:{lg:5,offset:1}},[t("el-select",{attrs:{placeholder:"请选择",disabled:1==e.status},on:{change:function(i){for(var t=arguments.length,a=Array(t);t--;)a[t]=arguments[t];e.handleChange.apply(void 0,["supplierBank","areaBank","Area"].concat(a))}},model:{value:e.form.supplierBankCity,callback:function(i){e.$set(e.form,"supplierBankCity",i)},expression:"form.supplierBankCity"}},e._l(e.areaBank.City,function(e){return t("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})}))],1),e._v(" "),t("el-col",{attrs:{lg:5,offset:1}},[t("el-select",{attrs:{placeholder:"请选择",disabled:1==e.status},model:{value:e.form.supplierBankArea,callback:function(i){e.$set(e.form,"supplierBankArea",i)},expression:"form.supplierBankArea"}},e._l(e.areaBank.Area,function(e){return t("el-option",{key:e.regionId,attrs:{label:e.regionName,value:e.regionId}})}))],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"开户银行所在支行",prop:"supplierBankBranchAddress",rules:[{required:!0,message:"请输入开户银行所在支行",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{disabled:1==e.status},model:{value:e.form.supplierBankBranchAddress,callback:function(i){e.$set(e.form,"supplierBankBranchAddress",i)},expression:"form.supplierBankBranchAddress"}})],1)],1),e._v(" "),t("div",{staticClass:"btn-submit"},[t("el-button",{attrs:{type:"info"},on:{click:e.prev}},[e._v("上一步")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.next}},[e._v("下一步")]),e._v(" "),1==e.status?t("el-button",{attrs:{type:"info"}},[e._v("审核中")]):e._e()],1)],1)],1)]),e._v(" "),t("el-form",{ref:"form4",attrs:{model:e.form,"label-width":"140px"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:3==e.active,expression:"active == 3"}],staticClass:"step step-4"},[t("el-col",{attrs:{span:16,offset:3}},[t("el-form-item",{attrs:{label:"经营范围类型",prop:"audScoBusinessList",rules:[{required:!0,message:"请选择经营范围类型",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-checkbox-group",{attrs:{disabled:1==e.status},on:{change:e.handleSScoBusinessChange},model:{value:e.form.audScoBusinessList,callback:function(i){e.$set(e.form,"audScoBusinessList",i)},expression:"form.audScoBusinessList"}},e._l(e.SScoBusinessList,function(i,a){return t("el-checkbox",{key:"SScoBusinessList_"+a,attrs:{label:i.scopeBusinessId}},[e._v("\n                                "+e._s(i.scopeBusinessName)+"\n                            ")])}))],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"生产范围类型",prop:"audProBusinessList",rules:[{required:!0,message:"请选择生产范围类型",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-transfer",{attrs:{data:e.transferdata,props:e.props,titles:["待选择","已选择"]},model:{value:e.form.audProBusinessList,callback:function(i){e.$set(e.form,"audProBusinessList",i)},expression:"form.audProBusinessList"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"详细经营范围",prop:"supplierDetailedOperation",rules:[{required:!0,message:"请选择详细经营范围",trigger:"blur"}]}},[t("el-col",{attrs:{lg:16}},[t("el-input",{attrs:{type:"textarea",rows:"4",disabled:1==e.status},model:{value:e.form.supplierDetailedOperation,callback:function(i){e.$set(e.form,"supplierDetailedOperation",i)},expression:"form.supplierDetailedOperation"}}),e._v(" "),t("span",[e._v("按许可证或备案凭证逐一填写")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"业务商圈"}},[t("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.supplierTradingLoading,expression:"supplierTradingLoading"}],attrs:{lg:8}},[t("div",{staticClass:"supplierTrading-item"},[e._v("\n                            全国通用[默认]\n                        ")]),e._v(" "),e._l(e.form.supplierTradingVoList,function(i,a){return t("div",{key:"supplierTradingVoList_"+a,staticClass:"supplierTrading-item"},[e._v("\n                            "+e._s(i.tradingAreaName)),t("i",{staticClass:"el-icon-edit-outline",on:{click:function(t){e.addSupplierTrade(i.tradingId)}}}),t("i",{staticClass:"el-icon-delete",on:{click:function(t){e.deleteSupplierTrade(i.tradingId)}}})])}),e._v(" "),t("div",{staticClass:"supplierTrading-item add",on:{click:function(i){e.addSupplierTrade("")}}},[t("i",{staticClass:"el-icon-plus"})])],2)],1),e._v(" "),t("div",{staticClass:"btn-submit"},[t("el-button",{attrs:{type:"info"},on:{click:e.prev}},[e._v("上一步")]),e._v(" "),0==e.status||2==e.status||3==e.status?t("el-button",{attrs:{type:"primary"},on:{click:e.submitSupplierAuditing}},[e._v("重新提交审核")]):e._e(),e._v(" "),1==e.status?t("el-button",{attrs:{type:"info"}},[e._v("审核中")]):e._e()],1)],1)],1)])],1),e._v(" "),t("TradingSelector",{attrs:{supplierAuditId:e.form.supplierAuditId,id:e.SupplierTradeid,visible:e.visible},on:{"update:visible":function(i){e.visible=i},saveEvent:e.saveEvent}})],1)},staticRenderFns:[]};var b={data:function(){return{editMode:!1,status:1}},mounted:function(){this.checkStatus()},methods:{checkStatus:function(){var e=this;a.a.getSupplierStatus().then(function(i){e.status=i.supplierAuditResult})}},components:{CertificationContent:t("vSla")(g,h,!1,function(e){t("hTId")},null,null).exports}},q={render:function(){var e=this.$createElement,i=this._self._c||e;return i("div",[i("AutoBreadcrumb"),this._v(" "),i("div",{staticClass:"content-box"},[i("CertificationContent")],1)],1)},staticRenderFns:[]};var y=t("vSla")(b,q,!1,function(e){t("eyPB")},null,null);i.default=y.exports},eyPB:function(e,i){},hTId:function(e,i){}});
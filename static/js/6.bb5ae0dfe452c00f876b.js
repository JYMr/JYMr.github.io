webpackJsonp([6],{"8vRU":function(e,r){},M1el:function(e,r){},P2jr:function(e,r){},Uyhr:function(e,r){},Zv5E:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("aA9S"),o=t.n(a),s=t("Jlbz"),i=t.n(s),l=t("RY5C"),n=t("/BvV"),c=t("Leza"),d=(t("KPKd"),t("w3CS")),p={components:{Certificate:l.a},props:{orderData:{type:Object},isShow:{type:Boolean}},data:function(){return{Certificatevisible:!1,agreedopenaccountVisible:!1,acceptorderVisible:!1,noaccountVisible:!1,suplierRefundApplyVisible:!1,remarksVisible:!1,openorderfinishVisible:!1,preparegoodsfinishVisible:!1,addlogisticsVisible:!1,uploadinvoiceVisible:!1,finishdistributionVisible:!1,certificateorderData:{},agreedopenaccountform:{companyname:this.orderData.purchaserName,code:this.orderData.purchaserCode,remark:this.orderData.factoryOrderRemark},formLabelWidth:"120px",accountvalue:"0",noaccountform:{reasonoptions:[{value:"证件齐全，开户中",label:"证件齐全，开户中"},{value:"仍缺少证件",label:"仍缺少证件"},{value:"其他",label:"其他"}],remarks:""},suplierRefundApplyform:{reasonoptions:[{value:"商品近效期",label:"商品近效期"},{value:"商品缺货",label:"商品缺货"},{value:"资质/证照问题",label:"资质/证照问题"},{value:"未达到起送金额",label:"未达到起送金额"},{value:"下错单",label:"下错单"},{value:"商品压损/质量问题",label:"商品压损/质量问题"},{value:"批号不符",label:"批号不符"},{value:"发货少货",label:"发货少货"},{value:"商家发错货",label:"商家发错货"},{value:"超出经营范围",label:"超出经营范围"},{value:"退运费",label:"退运费"},{value:"其他",label:"其他"}],refundType:"1",isRefundGoods:"1",isOnlyFreight:"2",orderGoods:[]},remarksform:{remark:""},refundgoods:{},addlogisticsform:{logisticsCompanyName:"",logisticsCodes:""},addlogisticsoption:[],uploadinvoiceform:{invoiceImgUrl:""},UploadUrl:c.b,Headers:c.a,invoiceImgUrl:"",orderinvoice:{},validator:d.a,InterNum:d.a.InterNum}},computed:{supplierorderstatus:function(){switch(this.orderData.supplierOrderStatus){case-1:return"已删除";case 0:return"待付款";case 1:return"待处理";case 2:return"审核三证";case 3:return"三证审核不通过";case 4:return"正在开单";case 5:return"分拣中";case 6:return"待配送";case 7:return"配送中";case 8:return"交易成功";case 9:return"交易关闭";case 10:return"待审核支付凭证";case 11:return"全部退款"}}},methods:{ToggleTable:function(){this.$emit("update:isShow",!this.isShow)},agreedopenaccount:function(){var e=this;this.$refs.agreedopenaccountform.validate(function(r){r&&n.a.agreedopenaccount({erpPharmacyCode:e.agreedopenaccountform.code,remark:e.agreedopenaccountform.remark,accountId:parseInt(e.orderData.orderId)}).then(function(r){e.$message.success("恭喜你，提交成功！"),e.$emit("orderListUpdate"),e.agreedopenaccountVisible=!1})})},acceptorder:function(e){var r=this;n.a.acceptorder(e).then(function(e){r.acceptorderVisible=!1,r.$message.success("恭喜你，提交成功！"),r.$emit("orderListUpdate")})},noaccount:function(){var e=this;this.$refs.noaccountform.validate(function(r){r&&n.a.unopenaccount({erpPharmacyCode:e.orderData.purchaserCode,merchantId:e.orderData.merchantId,orderId:e.orderData.orderId,reason:e.noaccountform.reason,remark:e.noaccountform.remark}).then(function(r){e.noaccountVisible=!1,e.$message.success("恭喜你，提交成功！"),e.$emit("orderListUpdate")})})},remarks:function(){var e=this;this.$refs.remarksform.validate(function(r){r&&(e.remarksVisible=!1,n.a.appendremarks({orderId:e.orderData.orderId,remark:e.remarksform.remark}).then(function(r){e.$message.success("恭喜你，提交成功！"),e.$emit("orderListUpdate")}))})},suplierRefundApply:function(){var e=this;this.$refs.suplierRefundApplyform.validate(function(r){if(r){var t="";if(1==e.suplierRefundApplyform.refundType)t=o()({isRefundGoods:parseInt(e.suplierRefundApplyform.isRefundGoods)},{orderId:parseInt(e.orderData.orderId)},{refundPrice:e.suplierRefundApplyform.refundPrice},{refundResult:e.suplierRefundApplyform.refundResult},{refundType:parseInt(e.suplierRefundApplyform.refundType)},{remake:e.suplierRefundApplyform.remake});else{for(var a=[],s=0;s<e.suplierRefundApplyform.orderGoods.length;s++)a.push({goodsId:parseInt(e.suplierRefundApplyform.orderGoods[s].goodsId),goodsNum:parseInt(e.suplierRefundApplyform.orderGoods[s].goodsNum)});t=o()({isRefundGoods:parseInt(e.suplierRefundApplyform.isRefundGoods)},{orderId:parseInt(e.orderData.orderId)},{refundResult:e.suplierRefundApplyform.refundResult},{refundType:parseInt(e.suplierRefundApplyform.refundType)},{remake:e.suplierRefundApplyform.remake},{goodwin:a},{isOnlyFreight:parseInt(e.suplierRefundApplyform.isOnlyFreight)})}n.a.suplierRefundApply(t).then(function(r){e.suplierRefundApplyVisible=!1,e.$message.success("恭喜你，提交成功！"),e.$emit("orderListUpdate")})}})},refundsearch:function(){},getSummaries:function(e){var r=e.columns,t=e.data,a=[];return r.forEach(function(e,r){if(0!==r){var o=t.map(function(r){return Number(r[e.property])});o.every(function(e){return isNaN(e)})?a[r]="N/A":(a[r]=o.reduce(function(e,r){var t=Number(r);return isNaN(t)?e:e+r},0),a[r]+=" 元")}else a[r]="总价"}),a},checkaccount:function(e){var r=this;this.agreedopenaccountVisible=!0,n.a.checkaccount(e).then(function(e){r.agreedopenaccountform.code=e})},openorderfinish:function(e){var r=this;n.a.openorderfinish(e).then(function(e){r.openorderfinishVisible=!1,r.$message.success("恭喜你，提交成功！"),r.$emit("orderListUpdate")})},preparegoodsfinish:function(e){var r=this;n.a.preparegoodsfinish(e).then(function(e){r.preparegoodsfinishVisible=!1,r.$message.success("恭喜你，提交成功！"),r.$emit("orderListUpdate")})},finishdistribution:function(e){var r=this;n.a.finishdistribution(e).then(function(e){r.finishdistributionVisible=!1,r.$message.success("恭喜你，提交成功！"),r.$emit("orderListUpdate")})},getLogisticsCompany:function(){var e=this;n.a.getLogisticsCompany().then(function(r){e.addlogisticsoption=r})},addlogistics:function(){var e=this;this.$refs.addlogisticsform.validate(function(r){if(r){var t=e.addlogisticsform.logisticsCodes.split(",");n.a.addlogistics({logisticsCodes:t,logisticsCompany:e.addlogisticsform.logisticsCompanyName,orderId:e.orderData.orderId}).then(function(r){e.addlogisticsVisible=!1,e.$message.success("恭喜你，提交成功！"),e.$emit("orderListUpdate")})}})},uploadinvoice:function(e){var r=this;this.$refs.uploadinvoiceform.validate(function(e){e&&n.a.uploadinvoice({invoiceImgUrl:r.invoiceImgUrl,orderId:r.orderData.orderId}).then(function(e){r.uploadinvoiceVisible=!1,r.$message.success("恭喜你，提交成功！"),r.$emit("orderListUpdate")})})},handleSuccess:function(e,r){200==e.code&&(this.$emit("update:isShow",this.isShow),this.invoiceImgUrl=e.data.url)},getorderinvoice:function(e){n.a.getorderinvoice(e).then(function(e){})},showDetail:function(e){this.$router.push({path:"/Order/All/OrderDetail",query:{id:e}})},copysuccess:function(){this.$message.success("复制成功！")},copyerror:function(){this.$message.error("复制失败！")},suplierRefundApplygoods:function(){var e=this;n.a.refundApplyPage(parseInt(this.orderData.orderId)).then(function(r){e.suplierRefundApplyform.orderGoods=r.orderGoods})},maxnum:function(){this.suplierRefundApplyform.refundPrice=Number(this.suplierRefundApplyform.refundPrice>this.orderData.totalPrice?this.orderData.totalPrice:this.suplierRefundApplyform.refundPrice)},init:function(e){var r=this;"addlogisticsform"==e&&this.getLogisticsCompany(),setTimeout(function(){r.$refs[e].resetFields()})}}},u={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("tr",{staticClass:"el-table__row"},[t("td",[t("div",{staticClass:"cell Blue",on:{click:function(r){e.showDetail(e.orderData.orderId)}}},[e._v(e._s(e.orderData.orderCode))])]),e._v(" "),t("td",[t("div",{staticClass:"cell"},[null!==e.orderData.createTime?[e._v("\n                "+e._s(e._f("formatDate")(e.orderData.createTime))+"\n            ")]:e._e(),e._v(" "),null!==e.orderData.orderAcceptTime?[e._v("\n                /"+e._s(e._f("formatDate")(e.orderData.orderAcceptTime))+"\n            ")]:e._e()],2)]),e._v(" "),t("td",[t("div",{staticClass:"cell"},[null!==e.orderData.purchaserName||null!==e.orderData.purchaserCode?[t("p",[e._v(e._s(e.orderData.purchaserName))]),e._v(" "),null!==e.orderData.purchaserCode?t("p",[e._v("药店编码:"+e._s(e.orderData.purchaserCode))]):e._e()]:[t("p",[e._v("暂无信息")])],e._v(" "),t("el-button",{attrs:{type:"text"},on:{click:function(r){e.Certificatevisible=!0}}},[e._v("查看证件")]),t("br"),e._v(" "),t("el-tooltip",{staticClass:"item Blue",attrs:{effect:"dark",placement:"right"}},[e.orderData.purchaserLinkman||e.orderData.purchaserPhone?t("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.orderData.purchaserLinkman)+" "+e._s(e.orderData.purchaserPhone))]):t("div",{attrs:{slot:"content"},slot:"content"},[e._v("暂无信息")]),e._v(" "),t("el-button",{attrs:{size:"mini"}},[e._v("业务员")])],1)],2),e._v(" "),t("el-dialog",{attrs:{title:"已开户",visible:e.agreedopenaccountVisible},on:{"update:visible":function(r){e.agreedopenaccountVisible=r}}},[t("el-form",{ref:"agreedopenaccountform",attrs:{model:e.agreedopenaccountform}},[t("el-form-item",{attrs:{label:"开户药店","label-width":e.formLabelWidth}},[null!==e.orderData.purchaserName?t("p",[e._v(e._s(e.agreedopenaccountform.companyname))]):t("p",[e._v("暂无信息")])]),e._v(" "),t("el-form-item",{attrs:{label:"开户药店编码","label-width":e.formLabelWidth,prop:"code",rules:[{required:!0,message:"请输入药店编码",trigger:"blur"}]}},[t("el-input",{staticStyle:{width:"400px"},attrs:{"auto-complete":"off",placeholder:"请输入药店编码"},model:{value:e.agreedopenaccountform.code,callback:function(r){e.$set(e.agreedopenaccountform,"code",r)},expression:"agreedopenaccountform.code"}}),e._v(" "),t("p",{staticClass:"Info"},[e._v("填写ERP系统里药店编码")])],1),e._v(" "),t("el-form-item",{attrs:{label:"订单备注","label-width":e.formLabelWidth,prop:"remark",rules:[{required:!0,message:"请输入订单备注",trigger:"blur"}]}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",placeholder:"请输入订单备注"},model:{value:e.agreedopenaccountform.remark,callback:function(r){e.$set(e.agreedopenaccountform,"remark",r)},expression:"agreedopenaccountform.remark"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.agreedopenaccountVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.agreedopenaccount}},[e._v("确 定")])],1)],1),e._v(" "),t("Certificate",{attrs:{visible:e.Certificatevisible,certificateorderData:Object.assign({orderCode:this.orderData.orderCode},{orderId:this.orderData.orderId},{purchaserName:this.orderData.purchaserName},{purchaserAuditId:e.orderData.purchaserAuditId})},on:{"update:visible":function(r){e.Certificatevisible=r}}})],1),e._v(" "),t("td",[t("div",{staticClass:"cell"},[e._v(e._s(e._f("price")(e.orderData.totalPrice))+" "),t("br"),null!==e.orderData.freight?[e._v("(运费"+e._s(e.orderData.freight)+" 元)")]:e._e()],2)]),e._v(" "),t("td",[t("div",{staticClass:"cell"},[t("p",[e._v("状态："+e._s(e.supplierorderstatus))]),e._v(" "),t("p",[e._v("备注："+e._s(e.orderData.factoryOrderRemark))])])]),e._v(" "),t("td",[t("div",{staticClass:"cell"},[t("p",[e._v(e._s(e.orderData.consigneeName))]),e._v(" "),t("p",[e._v(e._s(e.orderData.consigneePhone))]),e._v(" "),t("p",[e._v(e._s(e.orderData.consigneeAddress))]),e._v(" "),e.orderData.orderInvoiceVo?[t("el-tooltip",{staticClass:"item Blue",attrs:{effect:"dark",placement:"bottom"},on:{open:e.getorderinvoice}},[t("div",{staticClass:"invoicecon",attrs:{slot:"content"},slot:"content"},[t("p",[e._v("发票类型："),1==e.orderData.orderInvoiceVo.invoiceType?[e._v("增值税专用发票")]:[e._v("增值税普通发票")]],2),e._v(" "),t("p",[e._v("\n                            税号：\n                            "),null!==e.orderData.orderInvoiceVo.invoiceTaxpayerNumber?[t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.orderData.orderInvoiceVo.invoiceTaxpayerNumber,expression:"orderData.orderInvoiceVo.invoiceTaxpayerNumber",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copysuccess,expression:"copysuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.copyerror,expression:"copyerror",arg:"error"}],staticClass:"copy",attrs:{type:"text",size:"mini"}},[e._v("复制")]),e._v("\n                                "+e._s(e.orderData.orderInvoiceVo.invoiceTaxpayerNumber)+"\n                            ")]:[e._v("尚未登记")]],2),e._v(" "),t("p",[e._v("\n                            开户银行：\n                            "),null!==e.orderData.orderInvoiceVo.invoiceBank?[t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.orderData.orderInvoiceVo.invoiceBank,expression:"orderData.orderInvoiceVo.invoiceBank",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copysuccess,expression:"copysuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.copyerror,expression:"copyerror",arg:"error"}],staticClass:"copy",attrs:{type:"text",size:"mini"}},[e._v("复制")]),e._v("\n                                "+e._s(e.orderData.orderInvoiceVo.invoiceBank)+"\n                            ")]:[e._v("尚未登记")]],2),e._v(" "),t("p",[e._v("\n\n                            开户账号：\n                            "),null!==e.orderData.orderInvoiceVo.invoiceBankAccount?[t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.orderData.orderInvoiceVo.invoiceBankAccount,expression:"orderData.orderInvoiceVo.invoiceBankAccount",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copysuccess,expression:"copysuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.copyerror,expression:"copyerror",arg:"error"}],staticClass:"copy",attrs:{type:"text",size:"mini"}},[e._v("复制")]),e._v("\n                                "+e._s(e.orderData.orderInvoiceVo.invoiceBankAccount)+"\n                            ")]:[e._v("尚未登记")]],2),e._v(" "),t("p",[e._v("\n                            公司名称：\n                            "),null!==e.orderData.orderInvoiceVo.invoiceCompanyName?[t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.orderData.orderInvoiceVo.invoiceCompanyName,expression:"orderData.orderInvoiceVo.invoiceCompanyName",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copysuccess,expression:"copysuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.copyerror,expression:"copyerror",arg:"error"}],staticClass:"copy",attrs:{type:"text",size:"mini"}},[e._v("复制")]),e._v("\n                                "+e._s(e.orderData.orderInvoiceVo.invoiceCompanyName)+"\n                            ")]:[e._v("尚未登记")]],2),e._v(" "),t("p",[e._v("\n                            公司地址：\n                            "),null!==e.orderData.orderInvoiceVo.invoiceAddress?[t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.orderData.orderInvoiceVo.invoiceAddress,expression:"orderData.orderInvoiceVo.invoiceAddress",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copysuccess,expression:"copysuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.copyerror,expression:"copyerror",arg:"error"}],staticClass:"copy",attrs:{type:"text",size:"mini"}},[e._v("复制")]),e._v("\n                                "+e._s(e.orderData.orderInvoiceVo.invoiceAddress)+"\n                            ")]:[e._v("尚未登记")]],2),e._v(" "),t("p",[e._v("\n                            联系电话：\n                            "),null!==e.orderData.orderInvoiceVo.invoicePhone?[t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.orderData.orderInvoiceVo.invoicePhone,expression:"orderData.orderInvoiceVo.invoicePhone",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copysuccess,expression:"copysuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.copyerror,expression:"copyerror",arg:"error"}],staticClass:"copy",attrs:{type:"text",size:"mini"}},[e._v("复制")]),e._v("\n                                "+e._s(e.orderData.orderInvoiceVo.invoicePhone)+"\n                            ")]:[e._v("尚未登记")]],2),e._v(" "),e.orderData.invoiceImg?t("p",[t("a",{staticClass:"look",attrs:{href:e.orderData.invoiceImg,target:"_blank"}},[e._v("查看电子票")])]):e._e()]),e._v(" "),t("el-button",{attrs:{size:"mini"}},[e._v("["),1==e.orderData.orderInvoiceVo.invoiceType?[e._v("专票")]:[e._v("普票")],e._v("]查看开票信息")],2)],1)]:e._e()],2)]),e._v(" "),t("td",[t("div",{staticClass:"cell"},[0!=e.orderData.supplierOrderStatus&&9!=e.orderData.supplierOrderStatus&&10!=e.orderData.supplierOrderStatus&&11!=e.orderData.supplierOrderStatus?t("el-dropdown",[t("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("\n                    操作"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[1==e.orderData.supplierOrderStatus?[t("el-dropdown-item",{nativeOn:{click:function(r){e.acceptorderVisible=!0}}},[e._v("接受订单")])]:e._e(),e._v(" "),2==e.orderData.supplierOrderStatus?[4==e.orderData.isOpenAccount?[t("el-dropdown-item",{nativeOn:{click:function(r){e.noaccountVisible=!0}}},[e._v("申请开户")])]:e._e(),e._v(" "),1==e.orderData.isOpenAccount?[t("el-dropdown-item",[e._v("已开户")])]:e._e(),e._v(" "),2==e.orderData.isOpenAccount?[t("el-dropdown-item",[e._v("开户被拒")])]:e._e(),e._v(" "),0==e.orderData.isOpenAccount?[t("el-dropdown-item",[e._v("开户中")])]:e._e()]:e._e(),e._v(" "),4==e.orderData.supplierOrderStatus?[t("el-dropdown-item",{nativeOn:{click:function(r){e.openorderfinishVisible=!0}}},[e._v("开单完成")])]:e._e(),e._v(" "),5==e.orderData.supplierOrderStatus?[t("el-dropdown-item",{nativeOn:{click:function(r){e.preparegoodsfinishVisible=!0}}},[e._v("备货完成")])]:e._e(),e._v(" "),6==e.orderData.supplierOrderStatus?[t("el-dropdown-item",{nativeOn:{click:function(r){e.addlogisticsVisible=!0}}},[e._v("发物流快递")])]:e._e(),e._v(" "),6==e.orderData.supplierOrderStatus||7==e.orderData.supplierOrderStatus||8==e.orderData.supplierOrderStatus?[t("el-dropdown-item",{nativeOn:{click:function(r){e.uploadinvoiceVisible=!0}}},[e._v("上传电子发票")])]:e._e(),e._v(" "),[t("el-dropdown-item",{nativeOn:{click:function(r){e.remarksVisible=!0}}},[e._v("追加备注")])]],2)],1):e._e(),e._v(" "),e.isShow?e._e():t("span",{staticClass:"detail-btn",on:{click:e.ToggleTable}},[e._v("\n                商品详情"),t("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),e.isShow?t("span",{staticClass:"detail-btn",on:{click:e.ToggleTable}},[e._v("\n                收起"),t("i",{staticClass:"el-icon-caret-top"})]):e._e()],1),e._v(" "),t("el-dialog",{attrs:{title:"开单完成",visible:e.openorderfinishVisible},on:{"update:visible":function(r){e.openorderfinishVisible=r}}},[t("el-form",[t("p",[e._v(e._s(e.orderData.orderCode)+" 确定开单完成？")])]),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.openorderfinishVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.openorderfinish(e.orderData.orderId)}}},[e._v("确 定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"备货完成",visible:e.preparegoodsfinishVisible},on:{"update:visible":function(r){e.preparegoodsfinishVisible=r}}},[t("el-form",[t("p",[e._v(e._s(e.orderData.orderCode)+" 确定备货完成？")])]),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.preparegoodsfinishVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.preparegoodsfinish(e.orderData.orderId)}}},[e._v("确 定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"接受订单",visible:e.acceptorderVisible},on:{"update:visible":function(r){e.acceptorderVisible=r}}},[t("el-form",[t("p",[e._v(e._s(e.orderData.orderCode)+" 确定接受此订单？")])]),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.acceptorderVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.acceptorder(e.orderData.orderId)}}},[e._v("确 定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"配送完成",visible:e.finishdistributionVisible},on:{"update:visible":function(r){e.finishdistributionVisible=r}}},[t("el-form",[t("p",[e._v(e._s(e.orderData.orderCode)+" 确定配送完成？")])]),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.finishdistributionVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.finishdistribution(e.orderData.orderId)}}},[e._v("确 定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"申请开户",visible:e.noaccountVisible},on:{"update:visible":function(r){e.noaccountVisible=r}}},[t("el-form",{ref:"noaccountform",attrs:{model:e.noaccountform}},[t("el-form-item",{attrs:{label:"订单编号","label-width":e.formLabelWidth}},[t("p",[e._v(e._s(e.orderData.orderCode)+" "),null!==e.orderData.purchaserName?[e._v("【"+e._s(e.orderData.purchaserName)+"】")]:e._e()],2)]),e._v(" "),t("el-form-item",{attrs:{label:"申请开户原因","label-width":e.formLabelWidth,prop:"reason",rules:[{required:!0,message:"请选择申请开户原因",trigger:"change"}]}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.noaccountform.reason,callback:function(r){e.$set(e.noaccountform,"reason",r)},expression:"noaccountform.reason"}},e._l(e.noaccountform.reasonoptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"订单备注","label-width":e.formLabelWidth,prop:"remark",rules:[{required:!0,message:"请输入订单备注",trigger:"blur"}]}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",placeholder:"请输入订单备注"},model:{value:e.noaccountform.remark,callback:function(r){e.$set(e.noaccountform,"remark",r)},expression:"noaccountform.remark"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.noaccountVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.noaccount}},[e._v("确 定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"申请退款",visible:e.suplierRefundApplyVisible},on:{"update:visible":function(r){e.suplierRefundApplyVisible=r},open:e.suplierRefundApplygoods}},[t("el-form",{ref:"suplierRefundApplyform",attrs:{model:e.suplierRefundApplyform}},[t("el-form-item",{attrs:{label:"订单编号","label-width":e.formLabelWidth}},[t("p",[e._v(e._s(e.orderData.orderCode)+" "),null!==e.orderData.purchaserName?[e._v("【"+e._s(e.orderData.purchaserName)+"】")]:e._e()],2)]),e._v(" "),t("el-form-item",{attrs:{label:"退款类型","label-width":e.formLabelWidth}},[t("el-radio",{attrs:{name:"refundtype",label:"1"},model:{value:e.suplierRefundApplyform.refundType,callback:function(r){e.$set(e.suplierRefundApplyform,"refundType",r)},expression:"suplierRefundApplyform.refundType"}},[e._v("整单退款")]),e._v(" "),t("el-radio",{attrs:{name:"refundtype",label:"2"},model:{value:e.suplierRefundApplyform.refundType,callback:function(r){e.$set(e.suplierRefundApplyform,"refundType",r)},expression:"suplierRefundApplyform.refundType"}},[e._v("部分退款")])],1),e._v(" "),t("el-form-item",{attrs:{label:"是否退货","label-width":e.formLabelWidth}},[t("el-radio",{attrs:{name:"isRefundGoods",label:"1"},model:{value:e.suplierRefundApplyform.isRefundGoods,callback:function(r){e.$set(e.suplierRefundApplyform,"isRefundGoods",r)},expression:"suplierRefundApplyform.isRefundGoods"}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{name:"isRefundGoods",label:"2"},model:{value:e.suplierRefundApplyform.isRefundGoods,callback:function(r){e.$set(e.suplierRefundApplyform,"isRefundGoods",r)},expression:"suplierRefundApplyform.isRefundGoods"}},[e._v("否")])],1),e._v(" "),1==e.suplierRefundApplyform.refundType?t("el-form-item",{attrs:{label:"退款金额","label-width":e.formLabelWidth,prop:"refundPrice ",rules:[{type:"number",required:!0,message:"请输入退款金额",trigger:"blur"}]}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"退款金额"},nativeOn:{keyup:function(r){e.maxnum()}},model:{value:e.suplierRefundApplyform.refundPrice,callback:function(r){e.$set(e.suplierRefundApplyform,"refundPrice",r)},expression:"suplierRefundApplyform.refundPrice"}}),e._v(" 最多￥"+e._s(e._f("price")(e.orderData.totalPrice))+"\n                ")],1):e._e(),e._v(" "),t("el-form-item",{attrs:{label:"退款原因","label-width":e.formLabelWidth,prop:"refundResult",rules:[{required:!0,message:"请选择退款原因",trigger:"change"}]}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.suplierRefundApplyform.refundResult,callback:function(r){e.$set(e.suplierRefundApplyform,"refundResult",r)},expression:"suplierRefundApplyform.refundResult"}},e._l(e.suplierRefundApplyform.reasonoptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"订单备注","label-width":e.formLabelWidth,prop:"remake",rules:[{required:!0,message:"请输入订单备注",trigger:"blur"}]}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",placeholder:"请输入订单备注"},model:{value:e.suplierRefundApplyform.remake,callback:function(r){e.$set(e.suplierRefundApplyform,"remake",r)},expression:"suplierRefundApplyform.remake"}})],1),e._v(" "),2==e.suplierRefundApplyform.refundType?t("el-form-item",{attrs:{label:"退货数量："}}):e._e(),e._v(" "),2==e.suplierRefundApplyform.refundType?t("el-table",{attrs:{border:"",data:e.suplierRefundApplyform.orderGoods}},[t("el-table-column",{attrs:{prop:"goodsId",label:"药品"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("p",[e._v(e._s(r.row.goodsCode))]),e._v(" "),t("p",[e._v(e._s(r.row.goodsName))]),e._v(" "),t("p",[e._v(e._s(r.row.goodsSpec))]),e._v(" "),t("p",[e._v(e._s(r.row.productionBusiness))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"buyUnitPrice",label:"价格"}}),e._v(" "),t("el-table-column",{attrs:{prop:"buyNum",label:"购买数量"}}),e._v(" "),t("el-table-column",{attrs:{prop:"goodsNum",label:"退货数量",rules:[{type:"number",required:!0,message:"请输入退货数量",trigger:"blur"},{validator:e.InterNum,trigger:"blur"}],width:"150px"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-input-number",{attrs:{min:1,max:r.row.buyNum,size:"mini"},model:{value:r.row.goodsNum,callback:function(t){e.$set(r.row,"goodsNum",t)},expression:"scope.row.goodsNum"}})]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"",label:"退款金额"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                            "+e._s(parseInt(r.row.goodsNum)*parseInt(r.row.buyUnitPrice|e.price))+"\n                        ")]}}])})],1):e._e(),e._v(" "),2==e.suplierRefundApplyform.refundType?t("el-form-item",{attrs:{label:"退运费","label-width":e.formLabelWidth}},[t("el-radio",{attrs:{name:"isRefundGoods",label:"1"},model:{value:e.suplierRefundApplyform.isOnlyFreight,callback:function(r){e.$set(e.suplierRefundApplyform,"isOnlyFreight",r)},expression:"suplierRefundApplyform.isOnlyFreight"}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{name:"isRefundGoods",label:"2"},model:{value:e.suplierRefundApplyform.isOnlyFreight,callback:function(r){e.$set(e.suplierRefundApplyform,"isOnlyFreight",r)},expression:"suplierRefundApplyform.isOnlyFreight"}},[e._v("否")])],1):e._e()],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.suplierRefundApplyVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.suplierRefundApply}},[e._v("确 定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"追加备注",visible:e.remarksVisible},on:{"update:visible":function(r){e.remarksVisible=r}}},[t("el-form",{ref:"remarksform",attrs:{model:e.remarksform}},[t("el-form-item",{attrs:{label:"订单编号","label-width":e.formLabelWidth}},[t("p",[e._v(e._s(e.orderData.orderCode)+" "),null!==e.orderData.purchaserName?[e._v("【"+e._s(e.orderData.purchaserName)+"】")]:e._e()],2)]),e._v(" "),t("el-form-item",{attrs:{label:"订单备注","label-width":e.formLabelWidth,prop:"remark",rules:[{required:!0,message:"请输入订单备注",trigger:"blur"}]}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",placeholder:"请输入订单备注"},model:{value:e.remarksform.remark,callback:function(r){e.$set(e.remarksform,"remark",r)},expression:"remarksform.remark"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.remarksVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.remarks}},[e._v("确 定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"发物流快递",visible:e.addlogisticsVisible},on:{"update:visible":function(r){e.addlogisticsVisible=r},open:function(r){e.init("addlogisticsform")}}},[t("el-form",{ref:"addlogisticsform",attrs:{model:e.addlogisticsform}},[t("el-form-item",{attrs:{label:"订单编号","label-width":e.formLabelWidth}},[t("p",[e._v(e._s(e.orderData.orderCode)+" "),null!==e.orderData.purchaserName?[e._v("【"+e._s(e.orderData.purchaserName)+"】")]:e._e()],2)]),e._v(" "),t("el-form-item",{attrs:{label:"物流公司",prop:"logisticsCompanyName","label-width":e.formLabelWidth,rules:[{required:!0,message:"请选择快递公司",trigger:"change"}]}},[t("el-select",{attrs:{placeholder:"请选择快递公司"},model:{value:e.addlogisticsform.logisticsCompanyName,callback:function(r){e.$set(e.addlogisticsform,"logisticsCompanyName",r)},expression:"addlogisticsform.logisticsCompanyName"}},e._l(e.addlogisticsoption,function(e,r){return t("el-option",{key:"addlogisticsform_"+r,attrs:{label:e.logisticsCompanyName,value:e.logisticsCompanyName}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"物流单号","label-width":e.formLabelWidth,prop:"logisticsCodes",rules:[{required:!0,message:"请输入物流单号",trigger:"blur"}]}},[t("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入物流单号"},model:{value:e.addlogisticsform.logisticsCodes,callback:function(r){e.$set(e.addlogisticsform,"logisticsCodes",r)},expression:"addlogisticsform.logisticsCodes"}}),e._v(" "),t("p",[e._v("可填入多个快递单号以“，”隔开")])],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.addlogisticsVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.addlogistics}},[e._v("确 定")])],1)],1),e._v(" "),t("el-dialog",{ref:"uploadinvoiceform",attrs:{title:"上传电子发票",visible:e.uploadinvoiceVisible},on:{"update:visible":function(r){e.uploadinvoiceVisible=r},open:function(r){e.init("uploadinvoiceform")}}},[t("el-form",{ref:"uploadinvoiceform",attrs:{model:e.uploadinvoiceform}},[t("el-form-item",{attrs:{label:"订单编号：","label-width":e.formLabelWidth}},[t("p",[e._v(e._s(e.orderData.orderCode)+" "),null!==e.orderData.purchaserName?[e._v("【"+e._s(e.orderData.purchaserName)+"】")]:e._e()],2)]),e._v(" "),t("el-form-item",{attrs:{label:"发票类型：","label-width":e.formLabelWidth}},[t("p",[1==e.orderData.invoiceType?[e._v("增值税专用发票")]:[e._v("增值税普通发票")]],2)]),e._v(" "),t("el-form-item",{attrs:{label:"上传发票：","label-width":e.formLabelWidth,prop:e.invoiceImgUrl,rules:[{required:!0,message:"请上传发票",trigger:"change"}]}},[t("el-upload",{attrs:{action:e.UploadUrl,headers:e.Headers,limit:1,"on-success":e.handleSuccess}},[t("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("建议上传pdf文件")])],1)],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.uploadinvoiceVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.uploadinvoice}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var m=t("vSla")(p,u,!1,function(e){t("8vRU")},null,null).exports,f={props:{gooodsData:{type:Array}},methods:{getSummaries:function(e){var r=e.columns,t=e.data,a=[];return r.forEach(function(e,r){if(0!==r){var o=t.map(function(r){return Number(r[e.property])});o.every(function(e){return isNaN(e)})||7!==r&&8!==r?a[r]="":(a[r]=o.reduce(function(e,r){var t=Number(r);return isNaN(t)?e:e+r},0),a[r]+="")}else a[r]="合计"}),a}}},v={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("tr",{staticClass:"el-table__row"},[t("td",{staticStyle:{padding:"0"},attrs:{colspan:"7"}},[t("div",{staticClass:"cell",staticStyle:{padding:"0"}},[t("el-table",{staticClass:"orderGoodsTable",attrs:{data:e.gooodsData,size:"mini","summary-method":e.getSummaries,"show-summary":""}},[t("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"goodsCode",label:"商品编号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"goodsName",label:"商品信息"}}),e._v(" "),t("el-table-column",{attrs:{prop:"goodsSpec",label:"规格/包装"}}),e._v(" "),t("el-table-column",{attrs:{prop:"productionBusiness",label:"厂家"}}),e._v(" "),t("el-table-column",{attrs:{prop:"buyNum",label:"数量"}}),e._v(" "),t("el-table-column",{attrs:{prop:"buyUnitPrice",label:"单价"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                      "+e._s(e._f("price")(r.row.buyUnitPrice))+"\n                  ")]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"totalPrice",label:"金额"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                      "+e._s(e._f("price")(r.row.totalPrice))+"\n                  ")]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"refundNum",label:"退款数量"}}),e._v(" "),t("el-table-column",{attrs:{prop:"refundPrice",label:"退款金额"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                      "+e._s(e._f("price")(r.row.refundPrice))+"\n                  ")]}}])})],1)],1)])])},staticRenderFns:[]};var b=t("vSla")(f,v,!1,function(e){t("P2jr")},null,null).exports,_={props:{rowdata:{type:Object}},methods:{orderListUpdate:function(){this.$emit("orderListUpdate")}},components:{OrderRow:m,GoodsTable:b}},h={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("tbody",[t("OrderRow",{attrs:{orderData:e.rowdata,isShow:e.rowdata.isShow},on:{"update:orderData":function(r){e.rowdata=r},"update:isShow":function(r){e.$set(e.rowdata,"isShow",r)},orderListUpdate:e.orderListUpdate}}),e._v(" "),e.rowdata.isShow?t("GoodsTable",{attrs:{gooodsData:e.rowdata.orderGoods}}):e._e()],1)},staticRenderFns:[]};var g=t("vSla")(_,h,!1,function(e){t("qoUl")},null,null).exports,y={props:{tableData:{type:Object},supplierOrderStatus:{type:String},supplierform:{type:Object}},data:function(){return{pageVo:{pageNo:1,size:10}}},methods:{paginationChange:function(e){if(this.pageVo.pageNo=e,this.supplierOrderStatus)this.$emit("orderListUpdate",{pageVo:{pageNo:e,size:this.pageVo.size},supplierOrderStatus:parseInt(this.supplierOrderStatus)});else if(this.supplierform){var r=o()({pageVo:{pageNo:e,size:this.pageVo.size}},this.supplierform);this.$emit("orderListUpdate",r)}else this.$emit("orderListUpdate",{pageVo:{pageNo:e,size:this.pageVo.size}})},paginationSizeChange:function(e){if(this.supplierOrderStatus)this.$emit("orderListUpdate",{pageVo:{pageNo:this.pageVo.pageNo,size:e},supplierOrderStatus:parseInt(this.supplierOrderStatus)});else if(this.supplierform){var r=o()({pageVo:{pageNo:e,size:this.pageVo.size}},this.supplierform);this.$emit("orderListUpdate",r)}else this.$emit("orderListUpdate",{pageVo:{pageNo:this.pageVo.pageNo,size:e}});this.pageVo.size=e},orderListUpdate:function(){this.$emit("orderListUpdate",{supplierOrderStatus:parseInt(this.supplierOrderStatus)})}},components:{AllOrderTableRows:g}},k={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"AllOrderTable"},[t("div",{staticClass:"el-table el-table--fit el-table--border el-table--enable-row-hover el-table--enable-row-transition"},[e._m(0),e._v(" "),t("div",{staticClass:"el-table__body-wrapper is-scrolling-none"},[t("table",{staticClass:"el-table__body",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},e._l(e.tableData.list,function(r,a){return t("AllOrderTableRows",{key:a,attrs:{rowdata:r},on:{orderListUpdate:e.orderListUpdate}})}))])]),e._v(" "),t("div",{staticClass:"table-pagination"},[t("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next",total:Number(e.tableData.total),"current-page":e.tableData.pageNum,"page-sizes":[10,20,30,50,100],"prev-text":"上一页","next-text":"下一页"},on:{"current-change":e.paginationChange,"size-change":e.paginationSizeChange}})],1)])},staticRenderFns:[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"el-table__header-wrapper"},[t("table",{staticClass:"el-table__header",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("thead",{staticClass:"has-gutter"},[t("tr",{},[t("th",{attrs:{colspan:"1",rowspan:"1"}},[t("div",{staticClass:"cell"},[e._v("订单ID")])]),e._v(" "),t("th",{attrs:{colspan:"1",rowspan:"1"}},[t("div",{staticClass:"cell"},[e._v("下单/接单时间")])]),e._v(" "),t("th",{attrs:{colspan:"1",rowspan:"1"}},[t("div",{staticClass:"cell"},[e._v("药店信息")])]),e._v(" "),t("th",{attrs:{colspan:"1",rowspan:"1"}},[t("div",{staticClass:"cell"},[e._v("总金额")])]),e._v(" "),t("th",{attrs:{colspan:"1",rowspan:"1"}},[t("div",{staticClass:"cell"},[e._v("处理情况")])]),e._v(" "),t("th",{attrs:{colspan:"1",rowspan:"1"}},[t("div",{staticClass:"cell"},[e._v("收货信息")])]),e._v(" "),t("th",{attrs:{colspan:"1",rowspan:"1"}},[t("div",{staticClass:"cell"},[e._v("操作")])])])])])])}]};var w=t("vSla")(y,k,!1,function(e){t("M1el")},null,null).exports,D=(t("iClD"),{data:function(){return{excelmodult2Data:[{companyname:"俺姐快递",companycode:"AJ"},{companyname:"亚马逊物流",companycode:"AMAZON"},{companyname:"安能物流",companycode:"ANE"}],searchform:{},tableData:{},Status:"",expressform:{},isMoreShow:!1,loadingTab:!1,expressdialogVisible:!1,tabsdata:[{name:"全部订单",status:""},{name:"待处理",status:"1"},{name:"审核三证",status:"2"},{name:"正在开单",status:"4"},{name:"分拣中",status:"5"},{name:"待配送",status:"6"},{name:"配送中",status:"7"},{name:"交易完成",status:"8"},{name:"待付款",status:"0"},{name:"待审核支付凭证",status:"10"},{name:"全部退款",status:"11"}],UploadUrlexcel:c.c,UploadUrl:c.b,Headers:c.a,excelmodult:"",pageVo:{pageNo:1,size:10},activeName:"card0"}},mounted:function(){this.getOrderList()},methods:{getOrderList:function(e){var r=this;this.loadingTab=!0;var t=o()({pageVo:this.pageVo},e);n.a.getorderlist(t).then(function(e){r.tableData=e,r.loadingTab=!1})},moreForm:function(){this.isMoreShow=!this.isMoreShow},ShowExpressDialog:function(){this.expressdialogVisible=!0},searchorderlists:function(){this.getOrderList(this.searchform)},exportexcel:function(){n.a.exportexcel(this.searchform).then(function(e){var r=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),t=URL.createObjectURL(r),a=document.createElement("a");a.href=t,a.download="订单数据导出"+(new Date).getTime()+".xlsx",a.click()})},handleSuccess:function(e,r){200==e.code?(e.data&&e.data.length>0&&(this.tableData=e),this.$message({message:"恭喜你，提交成功！",type:"success"})):this.$message.error(e.message),this.$refs.importlogisticscodeform.clearFiles()},handleError:function(e,r,t){this.$message({message:e,type:"error"})},importlogisticscode:function(){var e=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$refs.importlogisticscodeform.submit(),this.expressdialogVisible=!1,this.getOrderList(),e.close()},beforeAvatarUpload:function(e){var r="xlsx/xls"===e.type;return r||this.$message.error("只能上传xlsx/xls文件!"),r},tabgetOrderList:function(e){var r=parseInt(this.tabsdata[e.index].status);this.getOrderList({supplierOrderStatus:r}),this.searchform={}}},components:{"el-collapse-transition":i.a,AllOrderTable:w}}),x={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("AutoBreadcrumb"),e._v(" "),t("div",{staticClass:"AllOrder content-box"},[t("el-form",{ref:"searchform",attrs:{model:e.searchform,"label-width":"80px"}},[t("el-row",[t("el-col",{attrs:{lg:6}},[t("el-form-item",{attrs:{label:"订单编号"}},[t("el-input",{attrs:{placeholder:"订单编号"},model:{value:e.searchform.orderCode,callback:function(r){e.$set(e.searchform,"orderCode",r)},expression:"searchform.orderCode"}})],1)],1),e._v(" "),t("el-col",{attrs:{lg:6}},[t("el-form-item",{attrs:{label:"药店名称"}},[t("el-input",{attrs:{placeholder:"药店名称"},model:{value:e.searchform.purchaserName,callback:function(r){e.$set(e.searchform,"purchaserName",r)},expression:"searchform.purchaserName"}})],1)],1),e._v(" "),t("el-col",{attrs:{lg:6}},[t("el-form-item",{attrs:{label:"手机号码"}},[t("el-input",{attrs:{placeholder:"手机号码"},model:{value:e.searchform.phone,callback:function(r){e.$set(e.searchform,"phone",r)},expression:"searchform.phone"}})],1)],1),e._v(" "),t("el-col",{attrs:{lg:6}},[t("el-form-item",{attrs:{label:"商品编号"}},[t("el-input",{attrs:{placeholder:"商品编号"},model:{value:e.searchform.goodsCode,callback:function(r){e.$set(e.searchform,"goodsCode",r)},expression:"searchform.goodsCode"}})],1)],1),e._v(" "),t("el-col",{attrs:{lg:6}},[t("el-form-item",{attrs:{label:"商品名称"}},[t("el-input",{attrs:{placeholder:"商品名称"},model:{value:e.searchform.goodsName,callback:function(r){e.$set(e.searchform,"goodsName",r)},expression:"searchform.goodsName"}})],1)],1),e._v(" "),t("el-col",{attrs:{lg:12}},[t("el-form-item",{attrs:{label:"申请时间"}},[t("el-col",{attrs:{span:11}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.searchform.orderStartTime,callback:function(r){e.$set(e.searchform,"orderStartTime",r)},expression:"searchform.orderStartTime"}})],1),e._v(" "),t("el-col",{staticClass:"line",attrs:{span:1}},[e._v("-")]),e._v(" "),t("el-col",{attrs:{span:11}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.searchform.orderEndTime,callback:function(r){e.$set(e.searchform,"orderEndTime",r)},expression:"searchform.orderEndTime"}})],1)],1)],1)],1),e._v(" "),t("el-collapse-transition",[e.isMoreShow?t("el-row",[t("el-col",{attrs:{lg:6}},[t("el-form-item",{attrs:{label:"订单状态"}},[t("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.searchform.merchantOrderStatus,callback:function(r){e.$set(e.searchform,"merchantOrderStatus",r)},expression:"searchform.merchantOrderStatus"}},[t("el-option",{attrs:{label:"待付款",value:"0"}}),e._v(" "),t("el-option",{attrs:{label:"待商家接单",value:"5"}}),e._v(" "),t("el-option",{attrs:{label:"待发货",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"待收货",value:"2"}}),e._v(" "),t("el-option",{attrs:{label:"交易成功",value:"3"}}),e._v(" "),t("el-option",{attrs:{label:"交易关闭",value:"4"}}),e._v(" "),t("el-option",{attrs:{label:"待审核支付凭证",value:"7"}})],1)],1)],1),e._v(" "),t("el-col",{attrs:{lg:6}},[t("el-form-item",{attrs:{label:"订单交易状态","label-width":"100px"}},[t("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.searchform.supplierOrderStatus,callback:function(r){e.$set(e.searchform,"supplierOrderStatus",r)},expression:"searchform.supplierOrderStatus"}},e._l(e.tabsdata,function(e,r){return t("el-option",{key:r,attrs:{label:e.name,value:e.status}})}))],1)],1),e._v(" "),t("el-col",{attrs:{lg:6}},[t("el-form-item",{attrs:{label:"结算状态"}},[t("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.searchform.settlementStatus,callback:function(r){e.$set(e.searchform,"settlementStatus",r)},expression:"searchform.settlementStatus"}},[t("el-option",{attrs:{label:"未结算",value:"未结算"}}),e._v(" "),t("el-option",{attrs:{label:"已结算",value:"已结算"}}),e._v(" "),t("el-option",{attrs:{label:"结算中",value:"结算中"}}),e._v(" "),t("el-option",{attrs:{label:"无需结算",value:"无需结算"}})],1)],1)],1),e._v(" "),t("el-col",{attrs:{lg:12}},[t("el-form-item",{attrs:{label:"接单时间"}},[t("el-col",{attrs:{span:11}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.searchform.acceptStartTime,callback:function(r){e.$set(e.searchform,"acceptStartTime",r)},expression:"searchform.acceptStartTime"}})],1),e._v(" "),t("el-col",{staticClass:"line",attrs:{span:1}},[e._v("-")]),e._v(" "),t("el-col",{attrs:{span:11}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.searchform.acceptEndTime,callback:function(r){e.$set(e.searchform,"acceptEndTime",r)},expression:"searchform.acceptEndTime"}})],1)],1)],1),e._v(" "),t("el-col",{attrs:{lg:6}},[t("el-form-item",{attrs:{label:"支付方式"}},[t("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.searchform.payWay,callback:function(r){e.$set(e.searchform,"payWay",r)},expression:"searchform.payWay"}},[t("el-option",{attrs:{label:"支付宝支付",value:"0"}}),e._v(" "),t("el-option",{attrs:{label:"微信支付",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"电汇支付",value:"2"}}),e._v(" "),t("el-option",{attrs:{label:"其他支付",value:"3"}})],1)],1)],1),e._v(" "),t("el-col",{attrs:{lg:6}},[t("el-form-item",{attrs:{label:"快递单号"}},[t("el-input",{attrs:{placeholder:"输入快递单号"},model:{value:e.searchform.logisticsCode,callback:function(r){e.$set(e.searchform,"logisticsCode",r)},expression:"searchform.logisticsCode"}})],1)],1)],1):e._e()],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{md:23}},[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.searchorderlists}},[e._v("搜索")]),e._v(" "),t("el-button",{attrs:{size:"small"},on:{click:e.exportexcel}},[e._v("导出")]),e._v(" "),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.ShowExpressDialog}},[e._v("批量导入快递单号")])],1),e._v(" "),t("el-col",{staticClass:"line",attrs:{lg:1}},[t("span",{staticClass:"search-more"},[t("i",{class:[e.isMoreShow?"el-icon-arrow-up":"el-icon-arrow-down"],on:{click:e.moreForm}})])])],1),e._v(" "),e.tabsdata.length>0?[t("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTab,expression:"loadingTab"}],attrs:{type:"card"},on:{"tab-click":e.tabgetOrderList},model:{value:e.activeName,callback:function(r){e.activeName=r},expression:"activeName"}},e._l(e.tabsdata,function(r,a){return t("el-tab-pane",{key:a,attrs:{lazy:!0,name:"card"+a,label:r.name}},[t("AllOrderTable",{attrs:{tableData:e.tableData,supplierOrderStatus:r.status,supplierform:e.searchform},on:{"update:tableData":function(r){e.tableData=r},orderListUpdate:e.getOrderList,"update:supplierOrderStatus":function(t){e.$set(r,"status",t)},"update:supplierform":function(r){e.searchform=r}}})],1)}))]:e._e()],2),e._v(" "),t("el-dialog",{attrs:{title:"批量导入快递单号",visible:e.expressdialogVisible,width:"50%"},on:{"update:visible":function(r){e.expressdialogVisible=r}}},[t("el-form",{ref:"form",attrs:{model:e.expressform,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"批量导入"}},[t("el-upload",{ref:"importlogisticscodeform",attrs:{action:e.UploadUrlexcel,"auto-upload":!1,headers:e.Headers,accept:"xlsx,xls",limit:1,"on-success":e.handleSuccess,"on-error":e.handleError,clearFiles:""}},[t("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传xlsx/xls文件")])],1)],1),e._v(" "),t("el-form-item",[t("a",{staticClass:"link",attrs:{href:"https://kzj-b2b.oss-cn-shenzhen.aliyuncs.com/128588350395363328.xlsx",download:""}},[e._v("导入模板文件下载")]),e._v(" "),t("a",{staticClass:"link",attrs:{href:"https://kzj-b2b.oss-cn-shenzhen.aliyuncs.com/128588670299123712.xlsx",download:""}},[e._v("快递公司编码下载")])])],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.importlogisticscode}},[e._v("上传")]),e._v(" "),t("el-button",{on:{click:function(r){e.expressdialogVisible=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var C=t("vSla")(D,x,!1,function(e){t("Uyhr")},null,null);r.default=C.exports},qoUl:function(e,r){}});
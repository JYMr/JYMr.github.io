webpackJsonp([7],{Kf8o:function(e,t){},Yarq:function(e,t,r){e.exports={default:r("my5g"),__esModule:!0}},ck6f:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("HzJ8"),l=r.n(a),o=r("4YfN"),i=r.n(o),n=r("KM1H"),s=r("xCLT"),u=r("AA3o"),c=r.n(u),d=r("xSur"),p=r.n(d),v=r("LJJC"),f=new(function(){function e(){c()(this,e)}return p()(e,[{key:"getprovince",value:function(){return Object(v.b)("/commodity/supplier/brand/brands").then(function(e){return e})}}]),e}()),m=r("1MSS"),h=r("Yarq"),g=r.n(h),_=r("++MA"),b=r("/ZBN"),y=r.n(b),F=r("hRKE"),C=r.n(F);const x=Object.prototype.hasOwnProperty;var w=/(%|)\{([0-9a-zA-Z_]+)\}/g,U=function(e){return function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return 1===r.length&&"object"===C()(r[0])&&(r=r[0]),r&&r.hasOwnProperty||(r={}),e.replace(w,function(t,a,l,o){var i,n,s=void 0;return"{"===e[o-1]&&"}"===e[o+t.length]?l:(i=r,n=l,null===(s=x.call(i,n)?r[l]:null)||void 0===s?"":s)})}}(_.default),$={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"}}},k=!1,q=function(){var e=g()(this||_.default).$t;if("function"==typeof e&&_.default.locale)return k||(k=!0,_.default.locale(_.default.config.lang,y()($,_.default.locale(_.default.config.lang)||{},{clone:!0}))),e.apply(this,arguments)},S=function(e,t){var r=q.apply(this,arguments);if(null!==r&&void 0!==r)return r;for(var a=e.split("."),l=$,o=0,i=a.length;o<i;o++){if(r=l[a[o]],o===i-1)return U(r,t);if(!r)return"";l=r}return""},P={mixins:[{methods:{t:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return S.apply(this,t)}}}],data:function(){return{focusing:!1}},props:{files:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},handlePreview:Function,listType:String},methods:{parsePercentage:function(e){return parseInt(e,10)},handleClick:function(e){this.handlePreview&&this.handlePreview(e)}}},T={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition-group",{class:["el-upload-list","el-upload-list--"+e.listType,{"is-disabled":e.disabled}],attrs:{tag:"ul",name:"el-list"}},e._l(e.files,function(t,a){return r("li",{key:a,class:["el-upload-list__item","is-"+t.status,e.focusing?"focusing":""],attrs:{tabindex:"0"},on:{keydown:function(r){if(!("button"in r)&&e._k(r.keyCode,"delete",[8,46],r.key,["Backspace","Delete"]))return null;!e.disabled&&e.$emit("remove",t)},focus:function(t){e.focusing=!0},blur:function(t){e.focusing=!1},click:function(t){e.focusing=!1}}},["uploading"!==t.status&&["picture-card","picture"].indexOf(e.listType)>-1?r("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t.url,alt:""}}):e._e(),e._v(" "),r("a",{staticClass:"el-upload-list__item-name",on:{click:function(r){e.handleClick(t)}}},[r("i",{staticClass:"el-icon-document"}),e._v(e._s(t.name)+"\n    ")]),e._v(" "),r("label",{staticClass:"el-upload-list__item-status-label"},[r("i",{class:{"el-icon-upload-success":!0,"el-icon-circle-check":"text"===e.listType,"el-icon-check":["picture-card","picture"].indexOf(e.listType)>-1}})]),e._v(" "),1===t.seq?r("label",{staticClass:"el-upload-list__item-status-label star"},[r("i",{staticClass:"el-icon-star-on"})]):e._e(),e._v(" "),e.disabled?e._e():r("i",{staticClass:"el-icon-close",on:{click:function(r){e.$emit("remove",t)}}}),e._v(" "),e.disabled?e._e():r("i",{staticClass:"el-icon-close-tip"},[e._v(e._s(e.t("el.upload.deleteTip")))]),e._v(" "),"uploading"===t.status?r("el-progress",{attrs:{type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:e.parsePercentage(t.percentage)}}):e._e(),e._v(" "),"picture-card"===e.listType?r("span",{staticClass:"el-upload-list__item-actions"},[e.handlePreview&&"picture-card"===e.listType?r("span",{staticClass:"el-upload-list__item-preview",on:{click:function(r){e.handlePreview(t)}}},[r("i",{staticClass:"el-icon-zoom-in"})]):e._e(),e._v(" "),e.disabled?e._e():r("span",{staticClass:"el-upload-list__item-delete"},[r("i",{staticClass:"el-icon-delete",attrs:{title:"删除"},on:{click:function(r){e.$emit("remove",t)}}}),e._v(" "),r("i",{staticClass:"el-icon-star-off",attrs:{title:"设置为首图"},on:{click:function(r){e.$emit("seq",t)}}})])]):e._e()],1)}))},staticRenderFns:[]};var O=r("vSla")(P,T,!1,function(e){r("Kf8o")},null,null).exports,E=r("sNXC"),R=r.n(E),M=r("ZLEe"),N=r.n(M);var D={name:"ElUploadDrag",props:{disabled:Boolean},inject:{uploader:{default:""}},data:function(){return{dragover:!1}},methods:{onDragover:function(){this.disabled||(this.dragover=!0)},onDrop:function(e){if(!this.disabled&&this.uploader){var t=this.uploader.accept;this.dragover=!1,t?this.$emit("file",[].slice.call(e.dataTransfer.files).filter(function(e){var r=e.type,a=e.name,l=a.indexOf(".")>-1?"."+a.split(".").pop():"",o=r.replace(/\/.*$/,"");return t.split(",").map(function(e){return e.trim()}).filter(function(e){return e}).some(function(e){return/\..+$/.test(e)?l===e:/\/\*$/.test(e)?o===e.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(e)&&r===e})})):this.$emit("file",e.dataTransfer.files)}}}},L={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"el-upload-dragger",class:{"is-dragover":e.dragover},on:{drop:function(t){return t.preventDefault(),e.onDrop(t)},dragover:function(t){return t.preventDefault(),e.onDragover(t)},dragleave:function(t){t.preventDefault(),e.dragover=!1}}},[e._t("default")],2)},staticRenderFns:[]},j={inject:["uploader"],components:{UploadDragger:r("vSla")(D,L,!1,null,null,null).exports},props:{type:String,action:{type:String,required:!0},name:{type:String,default:"file"},data:Object,headers:Object,withCredentials:Boolean,multiple:Boolean,accept:String,onStart:Function,onProgress:Function,onSuccess:Function,onError:Function,beforeUpload:Function,drag:Boolean,onPreview:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},fileList:Array,autoUpload:Boolean,listType:String,httpRequest:{type:Function,default:function(e){if("undefined"!=typeof XMLHttpRequest){var t=new XMLHttpRequest,r=e.action;t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var a=new FormData;e.data&&N()(e.data).forEach(function(t){a.append(t,e.data[t])}),a.append(e.filename,e.file,e.file.name),t.onerror=function(t){e.onError(t)},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(function(e,t,r){var a=void 0;a=r.response?""+(r.response.error||r.response):r.responseText?""+r.responseText:"fail to post "+e+" "+r.status;var l=new Error(a);return l.status=r.status,l.method="post",l.url=e,l}(r,0,t));e.onSuccess(function(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}(t))},t.open("post",r,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var l=e.headers||{};for(var o in l)l.hasOwnProperty(o)&&null!==l[o]&&t.setRequestHeader(o,l[o]);return t.send(a),t}}},disabled:Boolean,limit:Number,onExceed:Function},data:function(){return{mouseover:!1,reqs:{}}},methods:{isImage:function(e){return-1!==e.indexOf("image")},handleChange:function(e){var t=e.target.files;t&&this.uploadFiles(t)},uploadFiles:function(e){var t=this;if(this.limit&&this.fileList.length+e.length>this.limit)this.onExceed&&this.onExceed(e,this.fileList);else{var r=Array.prototype.slice.call(e);this.multiple||(r=r.slice(0,1)),0!==r.length&&r.forEach(function(e){t.onStart(e),t.autoUpload&&t.upload(e)})}},upload:function(e){var t=this;if(this.$refs.input.value=null,!this.beforeUpload)return this.post(e);var r=this.beforeUpload(e);r&&r.then?r.then(function(r){var a=Object.prototype.toString.call(r);if("[object File]"===a||"[object Blob]"===a){for(var l in"[object Blob]"===a&&(r=new File([r],e.name,{type:e.type})),e)e.hasOwnProperty(l)&&(r[l]=e[l]);t.post(r)}else t.post(e)},function(){t.onRemove(null,e)}):!1!==r?this.post(e):this.onRemove(null,e)},abort:function(e){var t=this.reqs;if(e){var r=e;e.uid&&(r=e.uid),t[r]&&t[r].abort()}else N()(t).forEach(function(e){t[e]&&t[e].abort(),delete t[e]})},post:function(e){var t=this,r=e.uid,a={headers:this.headers,withCredentials:this.withCredentials,file:e,data:this.data,filename:this.name,action:this.action,onProgress:function(r){t.onProgress(r,e)},onSuccess:function(a){t.onSuccess(a,e),delete t.reqs[r]},onError:function(a){t.onError(a,e),delete t.reqs[r]}},l=this.httpRequest(a);this.reqs[r]=l,l&&l.then&&l.then(a.onSuccess,a.onError)},handleClick:function(){this.disabled||(this.$refs.input.value=null,this.$refs.input.click())},handleKeydown:function(e){e.target===e.currentTarget&&(13!==e.keyCode&&32!==e.keyCode||this.handleClick())}},render:function(e){var t=this.handleClick,r=this.drag,a=this.name,l=this.handleChange,o=this.multiple,i=this.accept,n=this.listType,s=this.uploadFiles,u=this.disabled,c={class:{"el-upload":!0},on:{click:t,keydown:this.handleKeydown}};return c.class["el-upload--"+n]=!0,e("div",R()([c,{attrs:{tabindex:"0"}}]),[r?e("upload-dragger",{attrs:{disabled:u},on:{file:s}},[this.$slots.default]):this.$slots.default,e("input",{class:"el-upload__input",attrs:{type:"file",name:a,multiple:o,accept:i},ref:"input",on:{change:l}})])}},B=r("vSla")(j,null,!1,null,null,null).exports;function A(){}var I={name:"ElFirstUpLoad",mixins:[{mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}],components:{UploadList:O,Upload:B},provide:function(){return{uploader:this}},inject:{elForm:{default:""}},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},data:Object,multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,dragger:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:String,type:{type:String,default:"select"},beforeUpload:Function,beforeRemove:Function,onRemove:{type:Function,default:A},onChange:{type:Function,default:A},onPreview:{type:Function},onSuccess:{type:Function,default:A},onProgress:{type:Function,default:A},onError:{type:Function,default:A},onSeq:{type:Function,default:A},fileList:{type:Array,default:function(){return[]}},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:Function,disabled:Boolean,limit:Number,onExceed:{type:Function,default:A}},data:function(){return{uploadFiles:[],dragOver:!1,draging:!1,tempIndex:1}},computed:{uploadDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{fileList:{immediate:!0,handler:function(e){var t=this;this.uploadFiles=e.map(function(e){return e.uid=e.uid||Date.now()+t.tempIndex++,e.status=e.status||"success",e})}}},methods:{handleStart:function(e){e.uid=Date.now()+this.tempIndex++;var t={status:"ready",name:e.name,size:e.size,percentage:0,uid:e.uid,raw:e,seq:0};try{t.url=URL.createObjectURL(e)}catch(e){return void console.error(e)}this.uploadFiles.push(t),this.onChange(t,this.uploadFiles)},handleProgress:function(e,t){var r=this.getFile(t);this.onProgress(e,r,this.uploadFiles),r.status="uploading",r.percentage=e.percent||0},handleSuccess:function(e,t){var r=this.getFile(t);r&&(r.status="success",r.response=e,this.onSuccess(e,r,this.uploadFiles),this.onChange(r,this.uploadFiles))},handleError:function(e,t){var r=this.getFile(t),a=this.uploadFiles;r.status="fail",a.splice(a.indexOf(r),1),this.onError(e,r,this.uploadFiles),this.onChange(r,this.uploadFiles)},handleRemove:function(e,t){var r=this;t&&(e=this.getFile(t));var a=function(){r.abort(e);var t=r.uploadFiles;t.splice(t.indexOf(e),1),r.onRemove(e,t)};if(this.beforeRemove){if("function"==typeof this.beforeRemove){var l=this.beforeRemove(e,this.uploadFiles);l&&l.then?l.then(function(){a()},A):!1!==l&&a()}}else a()},handleseq:function(e){var t=this.uploadFiles;t=t.filter(function(t){var r=t.uid===e.uid?1:0;return t.seq=r,t}),this.onSeq(e,t)},getFile:function(e){var t=void 0;return this.uploadFiles.every(function(r){return!(t=e.uid===r.uid?r:null)}),t},abort:function(e){this.$refs["upload-inner"].abort(e)},clearFiles:function(){this.uploadFiles=[]},submit:function(){var e=this;this.uploadFiles.filter(function(e){return"ready"===e.status}).forEach(function(t){e.$refs["upload-inner"].upload(t.raw)})},getMigratingConfig:function(){return{props:{"default-file-list":"default-file-list is renamed to file-list.","show-upload-list":"show-upload-list is renamed to show-file-list.","thumbnail-mode":"thumbnail-mode has been deprecated, you can implement the same effect according to this case: http://element.eleme.io/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan"}}}},render:function(e){var t=void 0,r=e("div",["点击",e("i",{class:"el-icon-star-on"}),"设置为首图， 若不选择默认第一张图为首图"]);this.showFileList&&(t=e(O,{attrs:{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,handlePreview:this.onPreview},on:{remove:this.handleRemove,seq:this.handleseq}}));var a=e("upload",{props:{type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"on-seq":this.handleseq,"http-request":this.httpRequest},ref:"upload-inner"},[this.$slots.trigger||this.$slots.default]);return e("div",["picture-card"===this.listType?t:"",this.$slots.trigger?[a,this.$slots.default]:a,this.$slots.tip||r,"picture-card"!==this.listType?t:""])}},z=r("vSla")(I,null,!1,null,null,null).exports;z.install=function(e){e.component(z.name,z)};var H=z,J=r("Leza"),K={model:{prop:"list",event:"uploadlist"},props:{list:{type:Array,required:!0,default:[]}},data:function(){return{filelist:[],UploadUrl:J.b,Headers:J.a}},methods:{handleSuccess:function(e,t){var r=this.list,a=0;200==e.code&&(0==this.list.length&&(a=1),r.push({url:e.data.url,seq:a}),this.$emit("uploadlist",r))},handleRemove:function(e,t){var r;r=t.map(function(e){return{seq:e.seq,url:e.url}}),this.$emit("uploadlist",r)},handleseq:function(e,t){var r;r=t.map(function(e){return{seq:e.seq,url:e.url}}),this.$emit("uploadlist",r)},beforeUpload:function(e){var t=["image/jpeg","image/png"].indexOf(e.type)>-1;return t||this.$message.error("上传的图片只能是 JPG 或 PNG 格式!"),t}},watch:{list:{immediate:!0,handler:function(e,t){void 0!==e&&""!==e&&null!==e&&(1==e.length&&(e[0].seq=1),this.filelist=e.map(function(e){return{url:e.url,seq:null===e.seq||""===e.seq||0===e.seq?0:1}}))}}},components:{elfirstupLoad:H}},X={render:function(){var e=this.$createElement,t=this._self._c||e;return t("elfirstupLoad",{attrs:{action:this.UploadUrl,headers:this.Headers,"file-list":this.filelist,"list-type":"picture-card","before-upload":this.beforeUpload,"on-success":this.handleSuccess,"on-remove":this.handleRemove,"on-seq":this.handleseq}},[t("i",{staticClass:"el-icon-plus images-uploader-icon"})])},staticRenderFns:[]},Y=r("vSla")(K,X,!1,null,null,null).exports,Z=r("w3CS"),G={data:function(){return{id:"",editMode:!1,loading:!1,form:{isMedicalInsurance:0,isApart:0,commoditysUrl:[],drugManualUrl:{url:""}},uploadDefaultUrl:[],brandList:[],FirstcommoditysUrl:"",categorydata:[],props:{label:"name",value:"id",children:"children"},validator:Z.a,UploadUrl:J.b,Headers:J.a}},mounted:function(){this.id=this.$route.query.id,""!==this.id&&void 0!==this.id&&(this.editMode=!0,this.getDrugData(this.id)),this.getCategory(),this.getBrandList()},methods:{applydrug:function(){var e=this;this.$refs.form.validate().then(function(t,r){if(t){var a=e.form;a.commoditysUrl.length>0&&(""===e.FirstcommoditysUrl&&(e.FirstcommoditysUrl=a.commoditysUrl[0]),a.commoditysUrl=a.commoditysUrl.map(function(t){return i()({seq:e.FirstcommoditysUrl===t?"1":"0"},t)}));var o=!0,s=!1,u=void 0;try{for(var c,d=l()(e.brandList);!(o=(c=d.next()).done);o=!0){var p=c.value;p.id===e.form.brandId&&(e.form.brand=p.name)}}catch(e){s=!0,u=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw u}}e.loading=!0,n.a.applydrug(a).then(function(t){e.$message.success("保存成功"),e.$router.replace({path:"/Product/Application"})}).catch(function(e){})}}).catch(function(t,r){t||e.$message.error("请检查表单是否填写完整")})},editdrug:function(){var e=this;this.$refs.form.validate().then(function(t,r){if(t){var a=e.form;a.commoditysUrl.length>0&&(""===e.FirstcommoditysUrl&&(e.FirstcommoditysUrl=a.commoditysUrl[0]),a.commoditysUrl=a.commoditysUrl.map(function(t){return i()({seq:e.FirstcommoditysUrl===t?"1":"0"},t)}));var o=!0,s=!1,u=void 0;try{for(var c,d=l()(e.brandList);!(o=(c=d.next()).done);o=!0){var p=c.value;p.id===e.form.brandId&&(e.form.brand=p.name)}}catch(e){s=!0,u=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw u}}e.loading=!0,n.a.editdrug(a).then(function(t){e.$message.success("保存成功"),e.$router.replace({path:"/Product/Application"})})}}).catch(function(t,r){t||e.$message.error("请检查表单是否填写完整")})},getDrugData:function(e){var t=this;this.loading=!0,n.a.getdrug(e).then(function(e){t.loading=!1,t.form=e,t.uploadDefaultUrl=e.commoditysUrl})},getBrandList:function(){var e=this;f.getprovince().then(function(t){e.brandList=t})},submit:function(){this.editMode?this.editdrug():this.applydrug()},setFirstcommoditysUrl:function(e){this.FirstcommoditysUrl=e},resetForm:function(){this.$refs.form.resetFields()},handlelistImageSuccess:function(e,t){200==e.code&&(void 0===this.form.commoditysUrl&&(this.form.commoditysUrl=[]),this.form.commoditysUrl.push({url:e.data.url}))},getCategory:function(){var e=this;s.a.getChildCategory("0").then(function(t){e.categorydata=t})},getCategoryChild:function(e){var t=1===e.length?e[0]:e[1],r=this.categorydata,a=!0;if(1!==e.length){var o=!0,i=!1,n=void 0;try{for(var u,c=l()(r);!(o=(u=c.next()).done);o=!0){var d=u.value;if(d.id===e[0]){r=d.children;break}}}catch(e){i=!0,n=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw n}}a=!1}s.a.getChildCategory(t,a).then(function(e){var a=!0,o=!1,i=void 0;try{for(var n,s=l()(r);!(a=(n=s.next()).done);a=!0){var u=n.value;u.id===t&&(u.children=e)}}catch(e){o=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}})},handleItemChange:function(e){this.getCategoryChild(e)},handleChange:function(e){3===e.length&&(this.form.category=e[2])},drugManualUrlValidator:function(e,t,r){""==t.url?r(new Error("请上传说明书图片")):r()},commoditysUrlValidator:function(e,t,r){t.length<=0?r(new Error("请上传药品图片")):r()},beforeUpload:function(e){var t=["image/jpeg","image/png"].indexOf(e.type)>-1;return t||this.$message.error("上传的图片只能是 JPG 或 PNG 格式!"),t}},components:{Uploadlist:Y,oneupload:m.a}},V={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"NewProduct"},[r("AutoBreadcrumb"),e._v(" "),r("div",{staticClass:"content-box"},[r("h3",{attrs:{id:"base"}},[e._v("基本信息")]),e._v(" "),r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"药品名称",prop:"name",rules:[{required:!0,message:"请输入药品名称",trigger:"blur"}]}},[r("el-col",{attrs:{lg:6}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"通用名",prop:"commonName",rules:[{required:!0,message:"请输入通用名",trigger:"blur"}]}},[r("el-col",{attrs:{lg:6}},[r("el-input",{model:{value:e.form.commonName,callback:function(t){e.$set(e.form,"commonName",t)},expression:"form.commonName"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"药品类型",prop:"type",rules:[{required:!0,message:"请选择药品类型",trigger:"blur"}]}},[r("el-col",{attrs:{lg:6}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[r("el-option",{attrs:{value:"RX"}},[e._v("RX")]),e._v(" "),r("el-option",{attrs:{value:"保健食品"}},[e._v("保健食品")]),e._v(" "),r("el-option",{attrs:{value:"非药品"}},[e._v("非药品")]),e._v(" "),r("el-option",{attrs:{value:"化妆品类"}},[e._v("化妆品类")]),e._v(" "),r("el-option",{attrs:{value:"甲类OTC"}},[e._v("甲类OTC")]),e._v(" "),r("el-option",{attrs:{value:"其他"}},[e._v("其他")]),e._v(" "),r("el-option",{attrs:{value:"日化用品"}},[e._v("日化用品")]),e._v(" "),r("el-option",{attrs:{value:"食品"}},[e._v("食品")]),e._v(" "),r("el-option",{attrs:{value:"消毒用品"}},[e._v("消毒用品")]),e._v(" "),r("el-option",{attrs:{value:"医疗器械"}},[e._v("医疗器械")]),e._v(" "),r("el-option",{attrs:{value:"乙类OTC"}},[e._v("乙类OTC")]),e._v(" "),r("el-option",{attrs:{value:"隐形眼镜"}},[e._v("隐形眼镜")]),e._v(" "),r("el-option",{attrs:{value:"中药钦片"}},[e._v("中药钦片")])],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"药品分类",prop:"category"}},[r("el-col",{attrs:{lg:6}},[r("el-input",{model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"选择品牌",prop:"brandId"}},[r("el-col",{attrs:{lg:6}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.brandId,callback:function(t){e.$set(e.form,"brandId",t)},expression:"form.brandId"}},e._l(e.brandList,function(e,t){return r("el-option",{key:"brand_"+t,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"药品规格",prop:"specification",rules:[{required:!0,message:"请输入药品规格",trigger:"blur"}]}},[r("el-col",{attrs:{lg:6}},[r("el-input",{model:{value:e.form.specification,callback:function(t){e.$set(e.form,"specification",t)},expression:"form.specification"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"包装单位",prop:"unit",rules:[{required:!0,message:"请输入包装单位",trigger:"blur"}]}},[r("el-col",{attrs:{lg:6}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}},[r("el-option",{attrs:{value:"1卷"}},[e._v("1卷")]),e._v(" "),r("el-option",{attrs:{value:"1克"}},[e._v("1克")]),e._v(" "),r("el-option",{attrs:{value:"g"}},[e._v("g")]),e._v(" "),r("el-option",{attrs:{value:"把"}},[e._v("把")]),e._v(" "),r("el-option",{attrs:{value:"板"}},[e._v("板")]),e._v(" "),r("el-option",{attrs:{value:"包"}},[e._v("包")]),e._v(" "),r("el-option",{attrs:{value:"杯"}},[e._v("杯")]),e._v(" "),r("el-option",{attrs:{value:"本"}},[e._v("本")]),e._v(" "),r("el-option",{attrs:{value:"并"}},[e._v("并")]),e._v(" "),r("el-option",{attrs:{value:"代"}},[e._v("代")]),e._v(" "),r("el-option",{attrs:{value:"袋"}},[e._v("袋")]),e._v(" "),r("el-option",{attrs:{value:"对"}},[e._v("对")]),e._v(" "),r("el-option",{attrs:{value:"份"}},[e._v("份")]),e._v(" "),r("el-option",{attrs:{value:"副"}},[e._v("副")]),e._v(" "),r("el-option",{attrs:{value:"个"}},[e._v("个")]),e._v(" "),r("el-option",{attrs:{value:"罐"}},[e._v("罐")]),e._v(" "),r("el-option",{attrs:{value:"合"}},[e._v("合")]),e._v(" "),r("el-option",{attrs:{value:"盒"}},[e._v("盒")]),e._v(" "),r("el-option",{attrs:{value:"剂"}},[e._v("剂")]),e._v(" "),r("el-option",{attrs:{value:"件"}},[e._v("件")]),e._v(" "),r("el-option",{attrs:{value:"卷"}},[e._v("卷")]),e._v(" "),r("el-option",{attrs:{value:"卡"}},[e._v("卡")]),e._v(" "),r("el-option",{attrs:{value:"克"}},[e._v("克")]),e._v(" "),r("el-option",{attrs:{value:"块"}},[e._v("块")]),e._v(" "),r("el-option",{attrs:{value:"粒"}},[e._v("粒")]),e._v(" "),r("el-option",{attrs:{value:"枚"}},[e._v("枚")]),e._v(" "),r("el-option",{attrs:{value:"米"}},[e._v("米")]),e._v(" "),r("el-option",{attrs:{value:"排"}},[e._v("排")]),e._v(" "),r("el-option",{attrs:{value:"片"}},[e._v("片")]),e._v(" "),r("el-option",{attrs:{value:"瓶"}},[e._v("瓶")]),e._v(" "),r("el-option",{attrs:{value:"散"}},[e._v("散")]),e._v(" "),r("el-option",{attrs:{value:"台"}},[e._v("台")]),e._v(" "),r("el-option",{attrs:{value:"套"}},[e._v("套")]),e._v(" "),r("el-option",{attrs:{value:"提"}},[e._v("提")]),e._v(" "),r("el-option",{attrs:{value:"条"}},[e._v("条")]),e._v(" "),r("el-option",{attrs:{value:"贴"}},[e._v("贴")]),e._v(" "),r("el-option",{attrs:{value:"桶"}},[e._v("桶")]),e._v(" "),r("el-option",{attrs:{value:"筒"}},[e._v("筒")]),e._v(" "),r("el-option",{attrs:{value:"丸"}},[e._v("丸")]),e._v(" "),r("el-option",{attrs:{value:"碗"}},[e._v("碗")]),e._v(" "),r("el-option",{attrs:{value:"箱"}},[e._v("箱")]),e._v(" "),r("el-option",{attrs:{value:"小包"}},[e._v("小包")]),e._v(" "),r("el-option",{attrs:{value:"小袋"}},[e._v("小袋")]),e._v(" "),r("el-option",{attrs:{value:"小盒"}},[e._v("小盒")]),e._v(" "),r("el-option",{attrs:{value:"扎"}},[e._v("扎")]),e._v(" "),r("el-option",{attrs:{value:"张"}},[e._v("张")]),e._v(" "),r("el-option",{attrs:{value:"支"}},[e._v("支")]),e._v(" "),r("el-option",{attrs:{value:"只"}},[e._v("只")]),e._v(" "),r("el-option",{attrs:{value:"纸合"}},[e._v("纸合")])],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"中包装",prop:"packNumber",rules:[{required:!0,message:"请输入中包装",trigger:"blur"},{validator:e.validator.positiveIntegers,trigger:"blur"}]}},[r("el-col",{attrs:{lg:6}},[r("el-input",{model:{value:e.form.packNumber,callback:function(t){e.$set(e.form,"packNumber",t)},expression:"form.packNumber"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"件装量",prop:"entiretyNumber",rules:[{required:!0,message:"请输入件装量",trigger:"blur"},{validator:e.validator.positiveIntegers,trigger:"blur"}]}},[r("el-col",{attrs:{lg:6}},[r("el-input",{model:{value:e.form.entiretyNumber,callback:function(t){e.$set(e.form,"entiretyNumber",t)},expression:"form.entiretyNumber"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"剂型",prop:"dosageForm",rules:[{required:!0,message:"请选择剂型",trigger:"blur"}]}},[r("el-col",{attrs:{lg:6}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.dosageForm,callback:function(t){e.$set(e.form,"dosageForm",t)},expression:"form.dosageForm"}},[r("el-option",{attrs:{value:"茶剂"}},[e._v("茶剂")]),e._v(" "),r("el-option",{attrs:{value:"搽剂"}},[e._v("搽剂")]),e._v(" "),r("el-option",{attrs:{value:"滴鼻剂"}},[e._v("滴鼻剂")]),e._v(" "),r("el-option",{attrs:{value:"滴耳剂"}},[e._v("滴耳剂")]),e._v(" "),r("el-option",{attrs:{value:"滴眼剂"}},[e._v("滴眼剂")]),e._v(" "),r("el-option",{attrs:{value:"酊剂"}},[e._v("酊剂")]),e._v(" "),r("el-option",{attrs:{value:"干混悬剂"}},[e._v("干混悬剂")]),e._v(" "),r("el-option",{attrs:{value:"膏药"}},[e._v("膏药")]),e._v(" "),r("el-option",{attrs:{value:"合剂"}},[e._v("合剂")]),e._v(" "),r("el-option",{attrs:{value:"混悬剂"}},[e._v("混悬剂")]),e._v(" "),r("el-option",{attrs:{value:"酒剂"}},[e._v("酒剂")]),e._v(" "),r("el-option",{attrs:{value:"颗粒剂"}},[e._v("颗粒剂")]),e._v(" "),r("el-option",{attrs:{value:"口服溶液剂"}},[e._v("口服溶液剂")]),e._v(" "),r("el-option",{attrs:{value:"流浸膏与浸膏剂"}},[e._v("流浸膏与浸膏剂")]),e._v(" "),r("el-option",{attrs:{value:"露剂"}},[e._v("露剂")]),e._v(" "),r("el-option",{attrs:{value:"膜剂"}},[e._v("膜剂")]),e._v(" "),r("el-option",{attrs:{value:"凝胶剂"}},[e._v("凝胶剂")]),e._v(" "),r("el-option",{attrs:{value:"片剂"}},[e._v("片剂")]),e._v(" "),r("el-option",{attrs:{value:"其他"}},[e._v("其他")]),e._v(" "),r("el-option",{attrs:{value:"气雾剂"}},[e._v("气雾剂")]),e._v(" "),r("el-option",{attrs:{value:"器械"}},[e._v("器械")]),e._v(" "),r("el-option",{attrs:{value:"乳膏剂"}},[e._v("乳膏剂")]),e._v(" "),r("el-option",{attrs:{value:"软膏剂"}},[e._v("软膏剂")]),e._v(" "),r("el-option",{attrs:{value:"散剂"}},[e._v("散剂")]),e._v(" "),r("el-option",{attrs:{value:"栓剂"}},[e._v("栓剂")]),e._v(" "),r("el-option",{attrs:{value:"粮浆剂"}},[e._v("粮浆剂")]),e._v(" "),r("el-option",{attrs:{value:"透皮贴剂"}},[e._v("透皮贴剂")]),e._v(" "),r("el-option",{attrs:{value:"涂膜剂"}},[e._v("涂膜剂")]),e._v(" "),r("el-option",{attrs:{value:"外用溶液剂"}},[e._v("外用溶液剂")]),e._v(" "),r("el-option",{attrs:{value:"丸剂"}},[e._v("丸剂")]),e._v(" "),r("el-option",{attrs:{value:"洗剂"}},[e._v("洗剂")]),e._v(" "),r("el-option",{attrs:{value:"橡胶膏剂"}},[e._v("橡胶膏剂")]),e._v(" "),r("el-option",{attrs:{value:"眼膏剂诊断试剂"}},[e._v("眼膏剂诊断试剂")]),e._v(" "),r("el-option",{attrs:{value:"中药饮片"}},[e._v("中药饮片")]),e._v(" "),r("el-option",{attrs:{value:"注射剂"}},[e._v("注射剂")])],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"生产厂家",prop:"manufacturers",rules:[{required:!0,message:"请输入生产厂家",trigger:"blur"}]}},[r("el-col",{attrs:{lg:6}},[r("el-input",{model:{value:e.form.manufacturers,callback:function(t){e.$set(e.form,"manufacturers",t)},expression:"form.manufacturers"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"药品条码",prop:"barCode",rules:[{required:!0,message:"请输入药品条码",trigger:"blur"}]}},[r("el-col",{attrs:{lg:6}},[r("el-input",{model:{value:e.form.barCode,callback:function(t){e.$set(e.form,"barCode",t)},expression:"form.barCode"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"批准文号",prop:"approvalNumber",rules:[{required:!0,message:"请输入批准文号",trigger:"blur"}]}},[r("el-col",{attrs:{lg:6}},[r("el-input",{model:{value:e.form.approvalNumber,callback:function(t){e.$set(e.form,"approvalNumber",e._n(t))},expression:"form.approvalNumber"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"建议零售价",prop:"retailPrice",rules:[{required:!0,message:"请输入建议零售价",trigger:"blur"},{validator:e.validator.price,trigger:"blur"}]}},[r("el-col",{attrs:{lg:6}},[r("el-input",{attrs:{placeholder:"单位元"},model:{value:e.form.retailPrice,callback:function(t){e.$set(e.form,"retailPrice",t)},expression:"form.retailPrice"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"重量",prop:"weight",rules:[{type:"number",message:"请输入正确的重量",trigger:"blur"}]}},[r("el-col",{attrs:{lg:6}},[r("el-input",{attrs:{placeholder:"单位克"},model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",e._n(t))},expression:"form.weight"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"是否医保"}},[r("el-col",{attrs:{lg:6}},[r("el-radio-group",{model:{value:e.form.isMedicalInsurance,callback:function(t){e.$set(e.form,"isMedicalInsurance",t)},expression:"form.isMedicalInsurance"}},[r("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"允许拆零"}},[r("el-col",{attrs:{lg:6}},[r("el-radio-group",{model:{value:e.form.isApart,callback:function(t){e.$set(e.form,"isApart",t)},expression:"form.isApart"}},[r("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1),e._v(" "),r("h3",{attrs:{id:"base"}},[e._v("说明书")]),e._v(" "),r("el-form-item",{attrs:{label:"说明书",prop:"drugManualUrl.url",rules:[{required:!0,message:"请上传说明书照片",trigger:"blur"},{validator:e.drugManualUrlValidator,trigger:"blur"}]}},[r("el-col",{attrs:{lg:6}},[r("oneupload",{attrs:{rules:["image/jpeg","image/png"]},model:{value:e.form.drugManualUrl.url,callback:function(t){e.$set(e.form.drugManualUrl,"url",t)},expression:"form.drugManualUrl.url"}})],1)],1),e._v(" "),r("h3",{attrs:{id:"base"}},[e._v("药品图片")]),e._v(" "),r("el-form-item",{attrs:{label:"药品图片",prop:"commoditysUrl",rules:[{required:!0,message:"请上传药品图片",trigger:"blur"},{validator:e.commoditysUrlValidator,trigger:"blur"}]}},[r("el-col",{attrs:{lg:18}},[r("Uploadlist",{model:{value:e.form.commoditysUrl,callback:function(t){e.$set(e.form,"commoditysUrl",t)},expression:"form.commoditysUrl"}})],1)],1),e._v(" "),r("div",{staticClass:"btn-submit"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]),e._v(" "),e.editMode?e._e():r("el-button",{attrs:{type:"info"},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var Q=r("vSla")(G,V,!1,function(e){r("pTZj")},null,null);t.default=Q.exports},fh91:function(e,t,r){var a=r("OXaN"),l=r("/gXo");r("t+Om")("getPrototypeOf",function(){return function(e){return l(a(e))}})},my5g:function(e,t,r){r("fh91"),e.exports=r("AKd3").Object.getPrototypeOf},pTZj:function(e,t){}});
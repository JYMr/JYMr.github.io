webpackJsonp([5],{"/ywE":function(t,e){},"66iS":function(t,e){},AQRW:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("4YfN"),n=a.n(i),o=a("aA9S"),l=a.n(o),s=a("a3Yh"),r=a.n(s),c=a("AA3o"),d=a.n(c),u=a("xSur"),p=a.n(u),m=a("LJJC"),h=new(function(){function t(){d()(this,t)}return p()(t,[{key:"getChannls",value:function(){return Object(m.b)("/show/supplier/channl/channls").then(function(t){return t})}},{key:"getChannlBySupplier",value:function(){return Object(m.b)("/show/supplier/channl/channl").then(function(t){return t})}},{key:"addChannls",value:function(t){return Object(m.c)("/show/supplier/channl/channl",t).then(function(t){return t})}},{key:"editChannls",value:function(t){return Object(m.d)("/show/supplier/channl/channl",t).then(function(t){return t})}},{key:"addSpecial",value:function(t){return Object(m.c)("/show/supplier/special/special",t).then(function(t){return t})}},{key:"editSpecial",value:function(t){return Object(m.d)("/show/supplier/special/special",t).then(function(t){return t})}},{key:"delSpecial",value:function(t){return Object(m.a)("/show/supplier/special/special/"+t).then(function(t){return t})}},{key:"addKeyWord",value:function(t){return Object(m.c)("/show/supplier/column/column",t).then(function(t){return t})}},{key:"editKeyWord",value:function(t){return Object(m.d)("/show/supplier/column/column",t).then(function(t){return t})}},{key:"delKeyWord",value:function(t){return Object(m.a)("/show/supplier/column/column/"+t).then(function(t){return t})}},{key:"getShow",value:function(t){return Object(m.c)("/show/supplier/show/shows",t).then(function(t){return t})}},{key:"addShow",value:function(t){return Object(m.c)("/show/supplier/show/show",t).then(function(t){return t})}},{key:"editShow",value:function(t){return Object(m.d)("/show/supplier/show/show",t).then(function(t){return t})}},{key:"delShow",value:function(t){return Object(m.a)("/show/supplier/show/show/"+t).then(function(t){return t})}},{key:"getSpecial",value:function(t){return Object(m.b)("/show/supplier/special/specials/"+t).then(function(t){return t})}},{key:"getKeyWordsList",value:function(t){return Object(m.b)("/show/purchaser/column/columns/"+t).then(function(t){return t})}}]),t}()),f=a("D/eO"),A=a("w3CS"),g={data:function(){var t;return t={searchform:{},editMode:!1,leftLoading:!1,rightLoading:!1,channlsList:[],channlsChooseId:"",specialList:[],channlsVisible:!1},r()(t,"channlsChooseId",""),r()(t,"channlsForm",{id:"",name:""}),r()(t,"specialVisible",!1),r()(t,"specialChooseId",""),r()(t,"specialForm",{id:"",name:"",seq:""}),r()(t,"ProductVisible",!1),r()(t,"ProductChooseId",""),r()(t,"ProductList",{list:[]}),r()(t,"commodityVo",{name:""}),r()(t,"productForm",{commodityId:"",seq:""}),r()(t,"selectVisible",!1),r()(t,"ignoreList",[]),r()(t,"pageVo",{pageNo:1,size:10}),r()(t,"validator",A.a),t},mounted:function(){this.getChannls()},methods:{getChannls:function(){var t=this;this.leftLoading=!0,h.getChannlBySupplier().then(function(e){e.length>0?t.getSpecial(e[0].id):t.addChannls({name:"店铺首页"}),t.leftLoading=!1,t.channlsList=e,t.editMode=!1})},getSpecial:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.channlsChooseId;e!==this.channlsChooseId&&(this.channlsChooseId=e),this.leftLoading=!0,this.editMode=!1,this.specialChooseId="",h.getSpecial(e).then(function(e){t.leftLoading=!1,t.specialList=e})},getShowList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.rightLoading=!0,h.getShow({channlId:this.channlsChooseId,specialColumnId:this.specialChooseId,type:e,pageVo:this.pageVo}).then(function(a){t.rightLoading=!1,2==e&&(t.ProductList=a)})},addChannls:function(t){var e=this;h.addChannls().thne(function(t){e.getChannls()})},editSpecial:function(){var t=this;this.$refs.specialForm.validate(function(e){if(e)if(""!==t.specialChooseId)h.editSpecial(t.specialForm).then(function(e){t.$message.success("修改成功"),t.specialVisible=!1,t.getSpecial()});else{l()(t.specialForm,{channlId:t.channlsChooseId});h.addSpecial(t.specialForm).then(function(e){t.$message.success("新增成功"),t.specialVisible=!1,t.getSpecial()})}})},delSpecial:function(t){var e=this;this.$confirm("是否删除该专栏?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){h.delSpecial(t).then(function(t){e.$message.success("删除成功"),e.getSpecial()})}).catch(function(){})},editProduct:function(){var t=this;this.$refs.productForm.validate(function(e){if(e)if(""!==t.ProductChooseId)h.editShow(t.productForm).then(function(e){t.$message.success("修改成功"),t.ProductVisible=!1,t.getShowList()});else{var a=l()(t.productForm,{commodityId:t.commodityVo.id,specialColumnId:t.specialChooseId,channlId:t.channlsChooseId,type:2});h.addShow(a).then(function(e){t.$message.success("新增成功"),t.ProductVisible=!1,t.getShowList()})}})},delProduct:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;this.$confirm("是否删除该"+a==2?"商品":"Banner?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){h.delShow(t).then(function(t){e.$message.success("删除成功"),e.getShowList()})}).catch(function(){})},enterEditor:function(t){this.specialChooseId=t,this.getShowList(),this.editMode=!0},showspecialEditor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.specialChooseId=t.id||"",this.specialForm=n()({},t),this.specialVisible=!0},showProductEditor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.ProductChooseId=t.id||"",this.commodityVo.name=t.name||"",this.productForm=n()({},t),this.ProductVisible=!0},showProductChoose:function(){this.ignoreList=this.ProductList.list.map(function(t){return t.commodityId}),this.selectVisible=!0},chooseProduct:function(t){this.commodityVo=t,this.productForm.commodityId=t.id},paginationChange:function(t){this.pageVo.pageNo=parseInt(t),this.getShowList()},paginationSizeChange:function(t){this.pageVo={pageNo:1,size:parseInt(t)},this.getShowList()},init:function(t){var e=this;setTimeout(function(){e.$refs[t].resetFields()},0)}},components:{ProductSelecter:f.a}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ShopLanTable"},[a("el-row",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.leftLoading,expression:"leftLoading"}],staticClass:"left"},[a("div",{staticClass:"list"},[a("div",{staticClass:"list-item list-title"},[t._v("栏目"),a("i",{staticClass:"el-icon-plus",on:{click:function(e){t.showspecialEditor({})}}})]),t._v(" "),t._l(t.specialList,function(e,i){return a("div",{key:"specialList_"+i,staticClass:"list-item",class:t.specialChooseId===e.id?"active":"",on:{click:function(a){a.stopPropagation(),t.enterEditor(e.id)}}},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)),a("i",{staticClass:"el-icon-delete del",on:{click:function(a){a.stopPropagation(),t.delSpecial(e.id)}}}),a("i",{staticClass:"el-icon-edit-outline",on:{click:function(a){a.stopPropagation(),t.showspecialEditor(e)}}})])}),t._v(" "),0==t.specialList.length?a("div",{staticClass:"list-item empty"},[t._v("\n\t\t\t\t\t\t暂无栏目\n\t\t\t\t\t")]):t._e()],2)]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.rightLoading,expression:"rightLoading"}],staticClass:"right"},[t.editMode?a("div",{staticClass:"editContent"},[a("h3",{staticClass:"tab-pane-title"},[t._v("栏目商品")]),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.showProductEditor({})}}},[t._v("新增商品")])],1),t._v(" "),a("el-table",{attrs:{data:t.ProductList.list,border:""}},[a("el-table-column",{attrs:{prop:"seq",label:"排序",width:"50px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"150px"},attrs:{src:t.row.url}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"supplier",label:"供应商"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t"+t._s(0==e.row.state?"待上架":1==e.row.state?"上架":"下架")+"\n\t\t\t\t\t\t\t")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){t.showProductEditor(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){t.delProduct(e.row.id,2)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"table-pagination"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next",total:Number(t.ProductList.total),"current-page":t.ProductList.pageNum,"page-sizes":[10,20,30,50,100],"prev-text":"上一页","next-text":"下一页"},on:{"current-change":t.paginationChange,"size-change":t.paginationSizeChange}})],1)],1):a("span",{staticClass:"empty"},[t._v("请在左侧选择需要编辑的频道和栏目")])])]),t._v(" "),a("el-dialog",{attrs:{title:""==t.specialChooseId?"新增栏目":"编辑栏目",visible:t.specialVisible,width:"50%"},on:{"update:visible":function(e){t.specialVisible=e},close:function(e){t.init("specialForm")}}},[a("el-form",{ref:"specialForm",attrs:{model:t.specialForm,"label-width":"140px"}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"栏目名称",prop:"name",rules:{required:!0,message:"请输入栏目名称",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入栏目名称"},model:{value:t.specialForm.name,callback:function(e){t.$set(t.specialForm,"name",e)},expression:"specialForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"副标题"}},[a("el-input",{attrs:{placeholder:"请输入栏目副标题"},model:{value:t.specialForm.subhead,callback:function(e){t.$set(t.specialForm,"subhead",e)},expression:"specialForm.subhead"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"栏目排序",prop:"seq",rules:[{validator:t.validator.positiveIntegers,trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入栏目排序"},model:{value:t.specialForm.seq,callback:function(e){t.$set(t.specialForm,"seq",e)},expression:"specialForm.seq"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否隐藏"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.specialForm.isHide,callback:function(e){t.$set(t.specialForm,"isHide",e)},expression:"specialForm.isHide"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.specialVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editSpecial}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:""==t.ProductChooseId?"新增栏目商品":"编辑栏目商品",visible:t.ProductVisible,width:"50%"},on:{"update:visible":function(e){t.ProductVisible=e},close:function(e){t.init("productForm")}}},[a("el-form",{ref:"productForm",attrs:{model:t.productForm,"label-width":"140px"}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"所属专栏"}},[a("el-select",{attrs:{disabled:""},model:{value:t.specialChooseId,callback:function(e){t.specialChooseId=e},expression:"specialChooseId"}},t._l(t.specialList,function(t,e){return a("el-option",{key:"specialList_"+e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"选择商品",prop:"commodityId",rules:{required:!0,message:"请选择商品",trigger:"blur"}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.commodityVo.name)+"\n                            "),""==t.ProductChooseId?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.showProductChoose}},[t._v("添加商品")]):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"seq",rules:[{required:!0,message:"请输入排序",trigger:"blur"},{validator:t.validator.positiveIntegers,trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入排序"},model:{value:t.productForm.seq,callback:function(e){t.$set(t.productForm,"seq",e)},expression:"productForm.seq"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.ProductVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editProduct}},[t._v("确 定")])],1)],1),t._v(" "),a("ProductSelecter",{attrs:{visible:t.selectVisible,ignoreList:t.ignoreList,type:"product"},on:{"update:visible":function(e){t.selectVisible=e},chooseProduct:t.chooseProduct}})],1)},staticRenderFns:[]};var b=a("vSla")(g,v,!1,function(t){a("KeIH")},null,null).exports,y=a("Leza"),_={data:function(){return{loading:!1,dialogAddVisible:!1,form:{specialColumnId:2},addForm:{specialColumnId:0,name:"",putawayTime:"",seq:"",url:""},channlsList:[],tableData:{list:[]},pageVo:{pageNo:1,size:10},UploadUrl:y.b,Headers:y.a}},mounted:function(){this.getChannls()},methods:{getChannls:function(){var t=this;h.getChannls().then(function(e){t.channlsList=e})},getBannerList:function(){var t=this;this.loading=!0;var e=l()(this.form,{pageVo:this.pageVo});h.getShow(e).then(function(e){t.tableData=e,t.loading=!1})},init:function(){this.addForm.id="",this.$refs.addForm.resetFields()},showAddBanner:function(t){this.addForm=t,this.dialogAddVisible=!0},saveBanner:function(){var t=this;this.$refs.addForm.validate(function(e){if(e)if(void 0!==t.addForm.id)h.editShow(t.addForm.id,t.addForm).then(function(e){t.$message.success("修改成功"),t.dialogAddVisible=!1,t.getBannerList()});else{var a=l()(t.addForm,{channlId:t.form.channlId,specialColumnId:t.form.specialColumnId,type:1});h.addShow(a).then(function(e){t.$message.success("添加成功"),t.dialogAddVisible=!1,t.getBannerList()})}})},delProduct:function(t){var e=this;this.$confirm("是否删除该Banner?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){h.delShow(t).then(function(t){e.$message.success("删除成功"),e.getBannerList()})}).catch(function(){})},handledSuccess:function(t,e){200==t.code&&this.$set(this.addForm,"url",t.data.url)},paginationChange:function(t){this.pageVo.pageNo=parseInt(t),this.getBannerList()},paginationSizeChange:function(t){this.pageVo={pageNo:1,size:parseInt(t)},this.getBannerList()},LinkTo:function(t){this.$router.push({path:t})}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ShopBannerTable"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"140px"}},[a("el-row",[a("el-col",{attrs:{lg:8}},[a("el-form-item",{attrs:{label:"选择频道"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.getBannerList},model:{value:t.form.channlId,callback:function(e){t.$set(t.form,"channlId",e)},expression:"form.channlId"}},t._l(t.channlsList,function(t,e){return a("el-option",{key:"channlsList_"+e,attrs:{label:t.name,value:t.id}})}))],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{lg:8}},[a("el-form-item",{attrs:{label:"Banner状态"}},[a("el-col",[a("el-select",{attrs:{placeholder:"请选择",clearable:"",disabled:!t.form.channlId},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}},[a("el-option",{attrs:{label:"上架",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"下架",value:"2"}})],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{lg:11}},[a("el-form-item",{attrs:{label:"更新时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp",disabled:!t.form.channlId},model:{value:t.form.updateStartTime,callback:function(e){t.$set(t.form,"updateStartTime",e)},expression:"form.updateStartTime"}})],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{span:1}},[t._v("-")]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp",disabled:!t.form.channlId},model:{value:t.form.updateEndTime,callback:function(e){t.$set(t.form,"updateEndTime",e)},expression:"form.updateEndTime"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{lg:2,offset:1}},[a("el-button",{attrs:{type:"primary",disabled:!t.form.channlId},on:{click:t.getBannerList}},[t._v("搜索")])],1)],1)],1),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.showAddBanner({})}}},[t._v("新增banner图")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData.list}},[a("el-table-column",{attrs:{prop:"name",label:"Banner名称",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{label:"Banner图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.url,alt:""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"seq",label:"排序"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n\t\t\t\t"+t._s(0==e.row.state?"待上架":1==e.row.state?"上架":"下架")+"\r\n\t\t\t")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"上线时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n\t\t\t\t"+t._s(t._f("formatDate")(e.row.putawayTime))+"\r\n\t\t\t")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{"split-button":"",type:"primary",size:"mini"},on:{click:function(a){t.showAddBanner(e.row)}}},[t._v("\r\n\t\t\t\t\t修改\r\n\t\t\t\t\t"),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{on:{click:function(a){t.delProduct(e.row.id)}}},[t._v("删除")])])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"table-pagination"},[a("el-pagination",{attrs:{"current-page":t.pageVo.pageNo,"page-size":t.tableData.page,layout:"total, prev, pager, next",total:Number(t.tableData.total)},on:{"size-change":t.paginationSizeChange,"current-change":t.paginationChange,"update:currentPage":function(e){t.$set(t.pageVo,"pageNo",e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:"新增banner",visible:t.dialogAddVisible},on:{"update:visible":function(e){t.dialogAddVisible=e},close:t.init}},[a("div",{staticClass:"AddBanner"},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"所属频道"}},[a("el-col",{attrs:{lg:12}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.channlId,callback:function(e){t.$set(t.form,"channlId",e)},expression:"form.channlId"}},t._l(t.channlsList,function(t,e){return a("el-option",{key:"channlsList_"+e,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Banner名称",prop:"name",rules:{required:!0,message:"请输入Banner名称",trigger:"blur"}}},[a("el-col",{attrs:{lg:12}},[a("el-input",{attrs:{placeholder:"请输入Banner名称"},model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"上线时间",prop:"putawayTime",rules:{required:!0,message:"请选择上线时间",trigger:"blur"}}},[a("el-col",{attrs:{lg:12}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:t.addForm.putawayTime,callback:function(e){t.$set(t.addForm,"putawayTime",e)},expression:"addForm.putawayTime"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"下线时间",prop:"loseTime",rules:{required:!0,message:"请选择下线时间",trigger:"blur"}}},[a("el-col",{attrs:{lg:12}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:t.addForm.loseTime,callback:function(e){t.$set(t.addForm,"loseTime",e)},expression:"addForm.loseTime"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"seq",rules:[{required:!0,message:"请输入排序",trigger:"blur"},{type:"number",message:"请输入数字",trigger:"blur"}]}},[a("el-col",{attrs:{lg:12}},[a("el-input",{attrs:{placeholder:"请输入排序"},model:{value:t.addForm.seq,callback:function(e){t.$set(t.addForm,"seq",t._n(e))},expression:"addForm.seq"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"上传图片"}},[a("el-upload",{attrs:{action:t.UploadUrl,headers:t.Headers,"show-file-list":!1,"on-success":t.handledSuccess}},[t.addForm.url?a("img",{staticClass:"avatar",attrs:{src:t.addForm.url}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{offset:4,lg:8}},[a("el-button",{attrs:{type:"primary"},on:{click:t.saveBanner}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.dialogAddVisible=!1}}},[t._v("取消")])],1)],1)],1)],1)])],1)},staticRenderFns:[]};var C={components:{ShopBannerTable:a("vSla")(_,w,!1,function(t){a("/ywE")},null,null).exports,ShopLanTable:b}},S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("AutoBreadcrumb"),this._v(" "),e("div",{staticClass:"Column content-box"},[e("ShopLanTable")],1)],1)},staticRenderFns:[]};var k=a("vSla")(C,S,!1,function(t){a("CSx7")},null,null);e.default=k.exports},CSx7:function(t,e){},"D/eO":function(t,e,a){"use strict";var i=a("4YfN"),n=a.n(i),o=a("aA9S"),l=a.n(o),s=a("5VHC"),r=a("KM1H"),c=a("AA3o"),d=a.n(c),u=a("xSur"),p=a.n(u),m=a("LJJC"),h=new(function(){function t(){d()(this,t)}return p()(t,[{key:"getProductList",value:function(t){return Object(m.c)("/commodity/supplier/commodity/commoditys",t).then(function(t){return t})}}]),t}()),f={props:{type:{type:String,default:"drugs"},visible:{type:Boolean,required:!0,value:!1},ignoreList:{type:Array,value:[]}},data:function(){return{dialogTableVisible:!1,loading:!1,searchform:{},checkList:[],productlist:{list:[]},pageVo:{pageNo:1,size:24},clickTime:null}},methods:{getProductList:function(){var t=this,e=l()(this.searchform,{pageVo:this.pageVo});this.loading=!0,"drugs"===this.type?(e=n()({},e,{ids:this.ignoreList,applyState:1}),r.a.getapplysList(e).then(function(e){t.loading=!1,t.productlist=e})):"product"===this.type&&(e=n()({},e,{ids:this.ignoreList,state:1}),h.getProductList(e).then(function(e){t.loading=!1,t.productlist=e}))},paginationChange:function(t){this.pageVo.pageNo=parseInt(t),this.getProductList()},paginationSizeChange:function(t){this.pageVo={pageNo:1,size:parseInt(t)},this.getProductList()},chooseProduct:function(t){var e=this;this.clickTime&&clearTimeout(this.clickTime),this.clickTime=setTimeout(function(){e.dialogTableVisible=!1,e.$emit("chooseProduct",t)},200)},handleopen:function(){var t=this;setTimeout(function(){t.getProductList(),t.$emit("open")},0)}},watch:{visible:function(t,e){this.dialogTableVisible=t},dialogTableVisible:function(t,e){t||this.$emit("update:visible",t)}},components:{SelectInput:s.a}},A={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"drugs"===t.type?"选择药品":"选择商品",visible:t.dialogTableVisible,width:"1266px"},on:{"update:visible":function(e){t.dialogTableVisible=e},open:t.handleopen}},[i("el-form",{ref:"form",attrs:{model:t.searchform,"label-width":"80px"}},[i("el-row",[i("el-col",{attrs:{lg:6}},["drugs"===t.type?i("el-form-item",{attrs:{"label-width":"0"}},[i("SelectInput",{attrs:{selectList:[{label:"药品编码",key:"commodityEncoding"},{label:"商品名称",key:"name"},{label:"批准文号",key:"approvalNumber"},{label:"厂家",key:"manufacturers"}]},model:{value:t.searchform,callback:function(e){t.searchform=e},expression:"searchform"}})],1):t._e(),t._v(" "),"product"===t.type?i("el-form-item",{attrs:{"label-width":"0"}},[i("SelectInput",{attrs:{selectList:[{label:"商品编码",key:"numberEncoding"},{label:"商品名称",key:"name"},{label:"批准文号",key:"approvalNumber"},{label:"厂家",key:"manufacturers"}]},model:{value:t.searchform,callback:function(e){t.searchform=e},expression:"searchform"}})],1):t._e()],1),t._v(" "),"product"===t.type?i("el-col",{attrs:{lg:10}},[i("el-form-item",{attrs:{label:"上架时间"}},[i("el-col",{attrs:{span:11}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:t.searchform.putawayStartTime,callback:function(e){t.$set(t.searchform,"putawayStartTime",e)},expression:"searchform.putawayStartTime"}})],1),t._v(" "),i("el-col",{staticClass:"line",attrs:{span:1}},[t._v("-")]),t._v(" "),i("el-col",{attrs:{span:11}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp","default-time":"23:59:59"},model:{value:t.searchform.putawayEndTime,callback:function(e){t.$set(t.searchform,"putawayEndTime",e)},expression:"searchform.putawayEndTime"}})],1)],1)],1):t._e(),t._v(" "),"drugs"===t.type?i("el-col",{attrs:{lg:10}},[i("el-form-item",{attrs:{label:"上架时间"}},[i("el-col",{attrs:{span:11}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:t.searchform.applyStartTime,callback:function(e){t.$set(t.searchform,"applyStartTime",e)},expression:"searchform.applyStartTime"}})],1),t._v(" "),i("el-col",{staticClass:"line",attrs:{span:1}},[t._v("-")]),t._v(" "),i("el-col",{attrs:{span:11}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp","default-time":"23:59:59"},model:{value:t.searchform.applyEndTime,callback:function(e){t.$set(t.searchform,"applyEndTime",e)},expression:"searchform.applyEndTime"}})],1)],1)],1):t._e(),t._v(" "),i("el-col",{attrs:{md:6}},[i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.getProductList}},[t._v("搜索")])],1)],1)],1)],1),t._v(" "),t.productlist.list.length>0&&"drugs"===t.type?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"product-list"},t._l(t.productlist.list,function(e,n){return i("div",{key:"product_item_"+n,staticClass:"product-item",on:{click:function(a){t.chooseProduct(e)}}},[e.commoditysUrl.length>0?i("img",{attrs:{src:e.commoditysUrl[0].url,alt:""}}):i("img",{attrs:{src:a("OQeE")}}),t._v(" "),i("div",{staticClass:"product-data"},[i("span",[t._v("ID: "+t._s(e.id))]),t._v(" "),i("span",[t._v(t._s(e.name))]),t._v(" "),i("span",[t._v(t._s(e.specification))]),t._v(" "),i("span",[t._v(t._s(e.manufacturers))]),t._v(" "),i("span",[t._v(t._s(e.approvalNumber))])])])})):t._e(),t._v(" "),t.productlist.list.length>0&&"product"===t.type?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"product-list"},t._l(t.productlist.list,function(e,a){return i("div",{key:"product_item_"+a,staticClass:"product-item",on:{click:function(a){t.chooseProduct(e)}}},[e.listImageUrl.length>0?i("img",{attrs:{src:e.listImageUrl[0].url,alt:""}}):t._e(),t._v(" "),i("div",{staticClass:"product-data"},[i("span",[t._v("ID: "+t._s(e.id))]),t._v(" "),i("span",[t._v(t._s(e.name))]),t._v(" "),i("span",[t._v(t._s(e.specification))])])])})):t._e(),t._v(" "),t.productlist.list.length<=0?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"product-list empty"},[t._v("暂无数据")]):t._e(),t._v(" "),t.productlist.list.length>0?i("div",{staticClass:"table-pagination"},[i("el-pagination",{attrs:{layout:"total, prev, pager, next",total:Number(t.productlist.total),"current-page":t.productlist.pageNum,"prev-text":"上一页","next-text":"下一页"},on:{"current-change":t.paginationChange,"size-change":t.paginationSizeChange}})],1):t._e()],1)},staticRenderFns:[]};var g=a("vSla")(f,A,!1,function(t){a("66iS")},null,null);e.a=g.exports},KeIH:function(t,e){},OQeE:function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAoHBwkHBgoJCAkLCwoMDxkQDw4ODx4WFxIZJCAmJSMgIyIoLTkwKCo2KyIjMkQyNjs9QEBAJjBGS0U+Sjk/QD3/2wBDAQsLCw8NDx0QEB09KSMpPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT3/wgARCACWAJYDAREAAhEBAxEB/8QAGgABAAMBAQEAAAAAAAAAAAAAAAMEBQIBB//EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAPpQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAtEZmkZaLx4Z5AAAAATmqAVCE0D0EZjgAAAFs0QCoQExcBwYwAAABbNEFcywC2aBnFUAAAAtmiCkUAAXiiAAAAC2aIIjKOT00C2UigAAAAWjSAK5ETkwOTFAAAAJjVPQUisaZ2CAygAAAAWi0RFI5JS4eFI4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/8QALxAAAgEBBQUHBQEBAAAAAAAAAQIDBAAQERJREyAwMkEFISIxM3LBYGFxgbEUFf/aAAgBAQABPwD6jFqeiVRml7zpYKAO4AWkpo5QcVAOotNCYZCrfo3U1IZfE+IX+2WCNOVBZ6eJ/NBappjAdVPkeFRpnqB9hjuVyYwZuqm1LSZ/G/L0GthfMm0iZdeF2f67e353KmpjUFCM50t/0JOirhaGuVzlcZfv0vkfJGzHoOF2f67e35vq5djCSPM9w3KWqyeBz4eh0uqqra+BOXXXhdn+u3t+b+0eRPzuC2wn/wAmXMfb9uH2f67e35vni20RSzoUcqwwIuAxOAFqWlEYzvz/AMuracFTKo7x58Kg9dvbuVQTZFnUNhZKOCQZldiDaKnjh5V79byMVI14VNJspgT+DuV8mCCPqTibU9Q0D6r1Fo3WRcynEX1MoihbU9w4cFY0QysMVsK2EjmI/VpK9QDswSdTZmLsSxxJuhneFvCcR1Fkr4zzAg2evQciljaSVpnzN9S//8QAFBEBAAAAAAAAAAAAAAAAAAAAgP/aAAgBAgEBPwA0/wD/xAAUEQEAAAAAAAAAAAAAAAAAAACA/9oACAEDAQE/ADT/AP/Z"}});
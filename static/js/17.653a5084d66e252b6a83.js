webpackJsonp([17],{"+oGg":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("aA9S"),s=a.n(r),o=(a("iClD"),a("Jlbz")),l=a.n(o),i=a("/BvV"),n=a("a3Yh"),d=a.n(n),u=a("zuY+"),f=a("Leza"),c=a("w3CS"),v={props:{rowdata:{type:Object},orderRefundStatus:{type:String}},data:function(){var e;return e={formLabelWidth:"120px",pageVo:{pageNo:1,size:10},refundAgreeVisible:!1,uploaddialogImageUrl:"",uploaddialogImageUrl1:"",uploaddialogVisible:!1,uploaddialogVisible1:!1,UploadUrl:f.b,Headers:f.a,refundRefuseVisible:!1,refundRefuseform:{},refundadressform:{deliveryAddress:"",deliveryName:"",deliveryPhone:"",isRefundGoods:this.rowdata.isRefundGoods,refundId:parseInt(this.rowdata.refundId),remark:""},area:{Province:[],City:[],Area:[]},validator:c.a,uploadimages:[],uploadimages1:[],filelists:[],refundMakeMoneyVisible:!1,refundConfirmVisible:!1,refundRefusingGoodsVisible:!1},d()(e,"refundConfirmVisible",!1),d()(e,"refundRefusingGoodsform",{}),e},mounted:function(){},methods:{handleRemove:function(e,t){this.uploadimages=[];for(var a=0;a<t.length;a++)this.uploadimages.push(t[a].response.data.url)},handlePictureCardPreview:function(e){this.uploaddialogImageUrl=e.url,this.uploaddialogVisible=!0},uploadsuccess:function(e,t,a){var r=this;this.uploadimages=[],a.forEach(function(e,t){e.response.data.url&&r.uploadimages.push(e.response.data.url)})},handleRemove1:function(e,t){this.uploadimages1=[];for(var a=0;a<t.length;a++)this.uploadimages1.push(t[a].response.data.url)},handlePictureCardPreview1:function(e){this.uploaddialogImageUrl1=e.url,this.uploaddialogVisible1=!0},uploadsuccess1:function(e){var t=this;this.uploadimages1=[],fileList.forEach(function(e,a){e.response.data.url&&t.uploadimages1.push(e.response.data.url)})},refundAgree:function(){var e=this;this.$refs.refundadressform1.validate(function(t){if(t){var a=s()(e.refundadressform);i.a.refundAgree(a).then(function(t){e.$emit("orderListUpdate"),e.$message.success("保存成功"),e.refundAgreeVisible=!1})}})},refundRefuse:function(){var e=this;this.$refs.refundRefuseform.validate(function(t){if(t){var a=s()({refundId:parseInt(e.rowdata.refundId)},{refuseReason:e.refundRefuseform.refuseReason},{images:e.uploadimages});i.a.refundRefuse(a).then(function(t){e.$emit("orderListUpdate")})}})},reflashadress:function(){var e=this;i.a.getSupplierDefaultDelivery().then(function(t){e.refundadressform})},refundRefusingGoods:function(){var e=this;this.$refs.refundRefusingGoodsform.validate(function(t){if(t){var a=s()({refundId:parseInt(e.rowdata.refundId)},{refuseReason:e.refundRefuseform.refuseReason},{images:e.uploadimages1});i.a.refundRefusingGoods(a).then(function(t){e.$emit("orderListUpdate"),e.$message.success("保存成功"),e.refundRefusingGoodsVisible=!1})}})},refundMakeMoney:function(){var e=this;i.a.refundMakeMoney({refundId:parseInt(this.rowdata.refundId)}).then(function(t){e.$emit("orderListUpdate"),e.$message.success("保存成功"),e.refundMakeMoneyVisible=!1})},refundConfirm:function(){var e=this;i.a.refundConfirm({refundId:parseInt(this.rowdata.refundId)}).then(function(t){e.$emit("orderListUpdate"),e.$message.success("保存成功"),e.refundConfirmVisible=!1})},showDetail:function(e){this.$router.push({path:"/Order/Refund/RefundDetail/"+e})},init:function(){var e=this;setTimeout(function(){e.getProvince()},100)},getAddress:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;u.a.getSupplierDeliveryById(t).then(function(t){e.refundadressform=t,e.getRegionListByPid(t.deliveryProvince,"area","City"),e.getRegionListByPid(t.deliveryCity,"area","Area")})},saveAddress:function(){var e=this;this.$refs.form.validate(function(t){t&&u.a.addSupplierDelivery(e.refundadressform).then(function(t){e.$message.success("保存成功"),e.dialogTableVisible=!1})})},getProvince:function(){var e=this;u.a.getprovince().then(function(t){e.area.Province=t})},getRegionListByPid:function(e,t,a){var r=this;u.a.getRegionListByPid(e).then(function(e){r[t][a]=e})},handleChange:function(e,t,a,r){"City"==a?(this.refundadressform[e+"City"]="",this.refundadressform[e+"Area"]=""):"Area"==a&&(this.refundadressform[e+"Area"]=""),this.getRegionListByPid(r,t,a)}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",[a("div",{staticClass:"cell",on:{click:function(t){e.showDetail(e.rowdata.refundId)}}},[e._v("\n            "+e._s(e.rowdata.orderCode)+" / "+e._s(e.rowdata.refundId)+"\n        ")])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("\n            "+e._s(e._f("formatDate")(e.rowdata.createTime))+" / "+e._s(e._f("formatDate")(e.rowdata.orderCreateTime))+"\n        ")])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("\n            "+e._s(e.rowdata.merchantName)+"\n            "),a("el-tooltip",{staticClass:"item Blue",attrs:{effect:"dark",placement:"right"}},[null!==e.rowdata.purchaserLinkman||null!==e.rowdata.purchaserPhone?a("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.rowdata.purchaserLinkman)+" "+e._s(e.rowdata.purchaserPhone)+"  ")]):a("div",{attrs:{slot:"content"},slot:"content"},[e._v("暂无信息")]),e._v(" "),a("el-button",{attrs:{size:"mini"}},[e._v("业务员")])],1)],1)]),e._v(" "),a("td",[a("div",{staticClass:"cell"},e._l(e.rowdata.refundApplyItemList,function(t,r){return a("p",{key:r},[e._v("\n                "+e._s(t.orderGoodsCode)),a("br"),e._v("\n                "+e._s(t.orderGoodsName)+" "),a("br"),e._v("\n                库存："+e._s(t.goodsNumber)),a("br"),e._v("\n                退款数量："+e._s(t.refundNum)+"\n            ")])}))]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("\n            "+e._s(e.rowdata.refundPrice)+"\n        ")])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[0==e.rowdata.settlementStatus?[e._v("未结算")]:e._e(),e._v(" "),1==e.rowdata.settlementStatus?[e._v("已结算")]:e._e(),e._v(" "),2==e.rowdata.settlementStatus?[e._v("结算中")]:e._e(),e._v(" "),3==e.rowdata.settlementStatus?[e._v("无需结算")]:e._e()],2)]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[1==e.rowdata.refundType?[e._v("整单退款")]:e._e(),e._v(" "),2==e.rowdata.refundType?[e._v("部分退款")]:e._e(),e._v(" /"),a("br"),e._v("\n            "+e._s(e.rowdata.refundResult)+"\n        ")],2)]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[0==e.rowdata.orderRefundStatus?[e._v("待审核")]:e._e(),e._v(" "),1==e.rowdata.orderRefundStatus?[e._v("待退货同意退款（等待采购商寄货）")]:e._e(),e._v(" "),2==e.rowdata.orderRefundStatus?[e._v("待供应商收货")]:e._e(),e._v(" "),3==e.rowdata.orderRefundStatus?[e._v("退款成功")]:e._e(),e._v(" "),4==e.rowdata.orderRefundStatus?[e._v("拒绝退款")]:e._e(),e._v(" "),5==e.rowdata.orderRefundStatus?[e._v("退款失败")]:e._e(),e._v(" "),6==e.rowdata.orderRefundStatus?[e._v("申诉处理中")]:e._e(),e._v(" "),7==e.rowdata.orderRefundStatus?[e._v("待转账退款")]:e._e(),e._v(" "),8==e.rowdata.orderRefundStatus?[e._v("拒绝收货")]:e._e(),e._v(" /"),a("br"),e._v("\n            "+e._s(e.rowdata.remake)+"\n        ")],2)]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[3!=e.rowdata.orderRefundStatus&&5!=e.rowdata.orderRefundStatus?[a("el-dropdown",[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("\n                    操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==e.rowdata.orderRefundStatus?[a("el-dropdown-item",{nativeOn:{click:function(t){e.refundAgreeVisible=!0}}},[e._v("同意退款")]),e._v(" "),a("el-dropdown-item",{nativeOn:{click:function(t){e.refundRefuseVisible=!0}}},[e._v("拒绝退款")])]:[2==e.rowdata.orderRefundStatus?[a("el-dropdown-item",{nativeOn:{click:function(t){e.refundConfirmVisible=!0}}},[e._v("同意收货")]),e._v(" "),a("el-dropdown-item",{nativeOn:{click:function(t){e.refundRefusingGoodsVisible=!0}}},[e._v("拒绝收货")])]:e._e(),e._v(" "),a("el-dropdown-item",{nativeOn:{click:function(t){e.refundMakeMoneyVisible=!0}}},[e._v("完成退款")])]],2)],1),e._v(" "),a("el-dialog",{attrs:{title:"同意退款",visible:e.refundAgreeVisible},on:{"update:visible":function(t){e.refundAgreeVisible=t}}},[a("el-form",{ref:"refundadressform1",attrs:{model:e.refundadressform}},[a("el-form-item",{attrs:{label:"订单编号：","label-width":e.formLabelWidth}},[a("p",[e._v(e._s(e.rowdata.orderCode)+" "),null!==e.rowdata.purchaserName?[e._v("【"+e._s(e.rowdata.purchaserName)+"】")]:e._e()],2)]),e._v(" "),a("el-form-item",{attrs:{label:"退款金额：","label-width":e.formLabelWidth}},[a("p",[e._v(e._s(e.rowdata.refundPrice))])]),e._v(" "),a("el-form-item",{attrs:{label:"退款原因：","label-width":e.formLabelWidth}},[a("p",[e._v(e._s(e.rowdata.refundResult))])]),e._v(" "),a("el-form-item",{attrs:{label:"是否退货：","label-width":e.formLabelWidth}},[1==e.rowdata.isRefundGoods?[e._v("否")]:[e._v("是")]],2),e._v(" "),1==e.rowdata.isRefundGoods?[a("p",[e._v("确定同意退款？")])]:[a("el-form-item",{attrs:{label:"收货地址：","label-width":e.formLabelWidth,prop:"deliveryAddress",rules:[{required:!0,message:"请选择完整的配送区域",trigger:"blur"}]}},[a("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:24}},[a("el-input",{attrs:{placeholder:"收货地址"},model:{value:e.refundadressform.deliveryAddress,callback:function(t){e.$set(e.refundadressform,"deliveryAddress",t)},expression:"refundadressform.deliveryAddress"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"收件人：","label-width":e.formLabelWidth,prop:"deliveryName",rules:[{required:!0,message:"请输入收件人",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"收件人"},model:{value:e.refundadressform.deliveryName,callback:function(t){e.$set(e.refundadressform,"deliveryName",t)},expression:"refundadressform.deliveryName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码：","label-width":e.formLabelWidth,prop:"deliveryPhone",rules:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:e.validator.phone,trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"手机号码"},model:{value:e.refundadressform.deliveryPhone,callback:function(t){e.$set(e.refundadressform,"deliveryPhone",t)},expression:"refundadressform.deliveryPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"退货说明：","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入订单备注"},model:{value:e.refundadressform.remark,callback:function(t){e.$set(e.refundadressform,"remark",t)},expression:"refundadressform.remark"}})],1),e._v(" "),a("p",{staticClass:"default",on:{click:e.reflashadress}},[e._v("使用默认地址")])]],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.refundAgreeVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.refundAgree}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"拒绝退款",visible:e.refundRefuseVisible},on:{"update:visible":function(t){e.refundRefuseVisible=t}}},[a("el-form",{ref:"refundRefuseform",attrs:{model:e.refundRefuseform}},[a("el-form-item",{attrs:{label:"订单编号：","label-width":e.formLabelWidth}},[a("p",[e._v(e._s(e.rowdata.orderCode)+" "),null!==e.rowdata.purchaserName?[e._v("【"+e._s(e.rowdata.purchaserName)+"】")]:e._e()],2)]),e._v(" "),a("el-form-item",{attrs:{label:"退款金额：","label-width":e.formLabelWidth}},[a("p",[e._v(e._s(e.rowdata.refundPrice))])]),e._v(" "),a("el-form-item",{attrs:{label:"退款原因：","label-width":e.formLabelWidth}},[a("p",[e._v(e._s(e.rowdata.refundResult))])]),e._v(" "),a("el-form-item",{attrs:{label:"拒绝原因","label-width":e.formLabelWidth,prop:"refuseReason",rules:[{required:!0,message:"请输入拒绝原因",trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入订单备注"},model:{value:e.refundRefuseform.refuseReason,callback:function(t){e.$set(e.refundRefuseform,"refuseReason",t)},expression:"refundRefuseform.refuseReason"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传凭证：","label-width":e.formLabelWidth}},[a("el-upload",{attrs:{action:e.UploadUrl,headers:e.Headers,"list-type":"picture-card","on-remove":e.handleRemove,accept:"jpg",limit:5,"on-success":e.uploadsuccess,"file-list":e.filelists}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("最多上传5张图片，支持JPG格式；")]),e._v(" "),a("el-dialog",{attrs:{visible:e.uploaddialogVisible},on:{"update:visible":function(t){e.uploaddialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.uploaddialogImageUrl,alt:""}})])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.refundRefuseVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.refundRefuse}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"完成退款",visible:e.refundMakeMoneyVisible},on:{"update:visible":function(t){e.refundMakeMoneyVisible=t}}},[a("p",[e._v("订单编号："+e._s(e.rowdata.orderCode)+" 确定已退款给采购商？")]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.refundMakeMoneyVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.refundMakeMoney()}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"确认收货",visible:e.refundConfirmVisible},on:{"update:visible":function(t){e.refundConfirmVisible=t}}},[a("el-form-item",{attrs:{label:"订单编号：","label-width":e.formLabelWidth}},[a("p",[e._v(e._s(e.rowdata.orderCode)+" "),null!==e.rowdata.purchaserName?[e._v("【"+e._s(e.rowdata.purchaserName)+"】")]:e._e()],2)]),e._v(" "),a("el-form-item",{attrs:{label:"退款金额：","label-width":e.formLabelWidth}},[a("p",[e._v(e._s(e.rowdata.refundPrice))])]),e._v(" "),a("el-form-item",{attrs:{label:"退款原因：","label-width":e.formLabelWidth}},[a("p",[e._v(e._s(e.rowdata.refundResult))])]),e._v(" "),a("p",[e._v("确定已到退货？")]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.refundConfirmVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.refundConfirm()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"完成退款",visible:e.refundMakeMoneyVisible},on:{"update:visible":function(t){e.refundMakeMoneyVisible=t}}},[a("el-form",[a("p",[e._v(e._s(e.rowdata.orderCode)+" 确定已退款给采购商？")])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.refundMakeMoneyVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.refundMakeMoney()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"拒绝收货",visible:e.refundRefusingGoodsVisible},on:{"update:visible":function(t){e.refundRefusingGoodsVisible=t}}},[a("el-form",{ref:"refundRefusingGoodsform",attrs:{model:e.refundRefusingGoodsform}},[a("el-form-item",{attrs:{label:"订单编号：","label-width":e.formLabelWidth}},[a("p",[e._v(e._s(e.rowdata.orderCode)+" "),null!==e.rowdata.purchaserName?[e._v("【"+e._s(e.rowdata.purchaserName)+"】")]:e._e()],2)]),e._v(" "),a("el-form-item",{attrs:{label:"退款金额：","label-width":e.formLabelWidth}},[a("p",[e._v(e._s(e.rowdata.refundPrice))])]),e._v(" "),a("el-form-item",{attrs:{label:"退款原因：","label-width":e.formLabelWidth}},[a("p",[e._v(e._s(e.rowdata.refundResult))])]),e._v(" "),a("el-form-item",{attrs:{label:"拒绝原因","label-width":e.formLabelWidth,prop:"remark",rules:[{required:!0,message:"请输入拒绝原因",trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入订单备注"},model:{value:e.refundRefusingGoodsform.refuseReason,callback:function(t){e.$set(e.refundRefusingGoodsform,"refuseReason",t)},expression:"refundRefusingGoodsform.refuseReason"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传凭证：","label-width":e.formLabelWidth}},[a("el-upload",{ref:"uploada",attrs:{action:e.UploadUrl,headers:e.Headers,"list-type":"picture-card","on-remove":e.handleRemove1,accept:"jpg",limit:5,"on-success":e.uploadsuccess1,"file-list":e.filelists}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("最多上传5张图片，支持JPG格式；")]),e._v(" "),a("el-dialog",{attrs:{visible:e.uploaddialogVisible1},on:{"update:visible":function(t){e.uploaddialogVisible1=t}}},[a("img",{attrs:{width:"100%",src:e.uploaddialogImageUrl,alt:""}})])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.refundRefusingGoodsVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.refundRefusingGoods}},[e._v("确 定")])],1)],1)]:[e._v("\n                实际退款时间:"+e._s(e._f("formatDate")(e.rowdata.updateTime))+"\n            ")]],2)])])},staticRenderFns:[]};var p=a("vSla")(v,m,!1,function(e){a("7YSd")},null,null).exports,_={data:function(){return{formLabelWidth:"120px",searchform:{},orderData:{},isMoreShow:!1,loadingTab:!1,tabsdata:[{name:"全部订单",status:""},{name:"待审核",status:"0"},{name:"退款中",status:"99"},{name:"退款成功",status:"3"},{name:"退款失败",status:"5"}],pageVo:{pageNo:1,size:10},activeName:"card0",orderRefundStatus:""}},mounted:function(){this.getRefundList()},methods:{moreForm:function(){this.isMoreShow=!this.isMoreShow},getRefundList:function(e){var t=this;this.loadingTab=!0;var a=s()(this.searchform,{pageVo:this.pageVo},e);i.a.getRefundList(a).then(function(e){t.orderData=e,t.loadingTab=!1})},tabgetRefundList:function(e){this.searchform={};var t=parseInt(this.tabsdata[e.index].status);this.orderRefundStatus=t,this.getRefundList({refundStatus:t}),this.searchform={}},searchrefundlists:function(){this.activeName="card0",this.getRefundList()},paginationChange:function(e){this.pageVo.pageNo=e;var t=s()({pageVo:{pageNo:e,size:this.pageVo.size}},{refundStatus:this.orderRefundStatus},this.searchform);this.getRefundList(t)},sizechange:function(e){var t=s()({pageVo:{pageNo:this.pageVo.pageNo,size:e}},{refundStatus:this.orderRefundStatus},this.searchform);this.getRefundList(t),this.pageVo.size=e}},components:{"el-collapse-transition":l.a,RefundTable:p}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("AutoBreadcrumb"),e._v(" "),a("div",{staticClass:"Refund content-box"},[a("el-form",{attrs:{model:e.searchform,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"退货ID"}},[a("el-input",{model:{value:e.searchform.refundCode,callback:function(t){e.$set(e.searchform,"refundCode",t)},expression:"searchform.refundCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"订单ID"}},[a("el-input",{model:{value:e.searchform.orderCode,callback:function(t){e.$set(e.searchform,"orderCode",t)},expression:"searchform.orderCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"药店名称"}},[a("el-input",{model:{value:e.searchform.purchaserName,callback:function(t){e.$set(e.searchform,"purchaserName",t)},expression:"searchform.purchaserName"}})],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"药店编号"}},[a("el-input",{model:{value:e.searchform.merchantNo,callback:function(t){e.$set(e.searchform,"merchantNo",t)},expression:"searchform.merchantNo"}})],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"商品编号"}},[a("el-input",{model:{value:e.searchform.goodsNo,callback:function(t){e.$set(e.searchform,"goodsNo",t)},expression:"searchform.goodsNo"}})],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input",{model:{value:e.searchform.goodsName,callback:function(t){e.$set(e.searchform,"goodsName",t)},expression:"searchform.goodsName"}})],1)],1),e._v(" "),a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"申请时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.searchform.orderRefundEndTime,callback:function(t){e.$set(e.searchform,"orderRefundEndTime",t)},expression:"searchform.orderRefundEndTime"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:1}},[e._v("-")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.searchform.orderRefundStartTime,callback:function(t){e.$set(e.searchform,"orderRefundStartTime",t)},expression:"searchform.orderRefundStartTime"}})],1)],1)],1)],1),e._v(" "),a("el-collapse-transition",[e.isMoreShow?a("el-row",[a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"退款类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchform.refundType,callback:function(t){e.$set(e.searchform,"refundType",t)},expression:"searchform.refundType"}},[a("el-option",{attrs:{value:"1"}},[e._v("全部退款")]),e._v(" "),a("el-option",{attrs:{value:"2"}},[e._v("部分退款")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"退款状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchform.orderRefundStatus,callback:function(t){e.$set(e.searchform,"orderRefundStatus",t)},expression:"searchform.orderRefundStatus"}},[a("el-option",{attrs:{value:"0"}},[e._v("退款处理中")]),e._v(" "),a("el-option",{attrs:{value:"1"}},[e._v("待退货同意退款（等待采购商寄货）")]),e._v(" "),a("el-option",{attrs:{value:"2"}},[e._v("待供应商收货")]),e._v(" "),a("el-option",{attrs:{value:"3"}},[e._v("退款成功")]),e._v(" "),a("el-option",{attrs:{value:"4"}},[e._v("拒绝退款")]),e._v(" "),a("el-option",{attrs:{value:"5"}},[e._v("退款失败")]),e._v(" "),a("el-option",{attrs:{value:"6"}},[e._v("申诉处理中")]),e._v(" "),a("el-option",{attrs:{value:"7"}},[e._v("待转账退款")]),e._v(" "),a("el-option",{attrs:{value:"8"}},[e._v("拒绝收货")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"退款原因"}},[a("el-select",{model:{value:e.searchform.refundResult,callback:function(t){e.$set(e.searchform,"refundResult",t)},expression:"searchform.refundResult"}},[a("el-option",{attrs:{value:"商品近效期"}},[e._v("商品近效期")]),e._v(" "),a("el-option",{attrs:{value:"商品缺货"}},[e._v("商品缺货")]),e._v(" "),a("el-option",{attrs:{value:"资质/证照问题"}},[e._v("资质/证照问题")]),e._v(" "),a("el-option",{attrs:{value:"未达到起送金额"}},[e._v("未达到起送金额")]),e._v(" "),a("el-option",{attrs:{value:"下错单"}},[e._v("下错单")]),e._v(" "),a("el-option",{attrs:{value:"商品压损/质量问题"}},[e._v("商品压损/质量问题")]),e._v(" "),a("el-option",{attrs:{value:"批号不符"}},[e._v("批号不符")]),e._v(" "),a("el-option",{attrs:{value:"不发货"}},[e._v("不发货")]),e._v(" "),a("el-option",{attrs:{value:"商家发错货"}},[e._v("商家发错货")]),e._v(" "),a("el-option",{attrs:{value:"超出经营范围"}},[e._v("超出经营范围")]),e._v(" "),a("el-option",{attrs:{value:"退运费"}},[e._v("退运费")]),e._v(" "),a("el-option",{attrs:{value:"其他"}},[e._v("其他")]),e._v(">\n                        ")],1)],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"是否申诉"}},[a("el-select",{model:{value:e.searchform.isAppeal,callback:function(t){e.$set(e.searchform,"isAppeal",t)},expression:"searchform.isAppeal"}},[a("el-option",{attrs:{value:"1"}},[e._v("是")]),e._v(" "),a("el-option",{attrs:{value:"2"}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"结算状态"}},[a("el-select",{model:{value:e.searchform.isSettlement,callback:function(t){e.$set(e.searchform,"isSettlement",t)},expression:"searchform.isSettlement"}},[a("el-option",{attrs:{value:"0"}},[e._v("未结算")]),e._v(" "),a("el-option",{attrs:{value:"1"}},[e._v("已结算")]),e._v(" "),a("el-option",{attrs:{value:"2"}},[e._v("结算中")]),e._v(" "),a("el-option",{attrs:{value:"3"}},[e._v("无需结算")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{lg:6}},[a("el-form-item",{attrs:{label:"支付方式"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.searchform.payWay,callback:function(t){e.$set(e.searchform,"payWay",t)},expression:"searchform.payWay"}},[a("el-option",{attrs:{label:"支付宝支付",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"微信支付",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"电汇支付",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"其他支付",value:"3"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{lg:12}},[a("el-form-item",{attrs:{label:"下单时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.searchform.orderStartTime,callback:function(t){e.$set(e.searchform,"orderStartTime",t)},expression:"searchform.orderStartTime"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:1}},[e._v("-")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.searchform.orderEndTime,callback:function(t){e.$set(e.searchform,"orderEndTime",t)},expression:"searchform.orderEndTime"}})],1)],1)],1)],1):e._e()],1),e._v(" "),a("el-row",[a("el-col",{attrs:{md:23}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.searchrefundlists}},[e._v("搜索")]),e._v(" "),a("el-button",[e._v("导出")])],1)],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{lg:1}},[a("span",{staticClass:"search-more"},[a("i",{class:[e.isMoreShow?"el-icon-arrow-up":"el-icon-arrow-down"],on:{click:e.moreForm}})])])],1)],1),e._v(" "),e.tabsdata.length>0?[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.tabgetRefundList},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabsdata,function(t,r){return a("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTab,expression:"loadingTab"}],key:r,attrs:{lazy:!0,name:"card"+r,label:t.name}},[a("div",{staticClass:"el-table el-table--fit el-table--border el-table--enable-row-hover el-table--enable-row-transition"},[a("div",{staticClass:"el-table__header-wrapper"},[a("table",{staticClass:"el-table__header",staticStyle:{width:"100%"},attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[a("thead",{staticClass:"has-gutter"},[a("tr",{},[a("th",[a("div",{staticClass:"cell"},[e._v("订单ID/退款ID")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("下单/申请退款时间")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("药店信息")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("退款商品")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("退款金额")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("结算状态")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("退款类型/原因")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("退款状态/备注")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("操作")])])])]),e._v(" "),e._l(e.orderData.list,function(t,r){return a("RefundTable",{key:r,attrs:{orderRefundStatus:t.status,rowdata:t},on:{orderListUpdate:function(a){e.getRefundList(t.status)},"update:orderRefundStatus":function(a){e.$set(t,"status",a)}}})})],2)])]),e._v(" "),a("div",{staticClass:"table-pagination"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next",total:Number(e.orderData.total),"current-page":e.orderData.pageNum,"page-sizes":[10,20,30,50,100],"prev-text":"上一页","next-text":"下一页"},on:{"current-change":e.paginationChange,"size-change":e.sizechange}})],1)])}))]:e._e()],2)],1)},staticRenderFns:[]};var b=a("vSla")(_,h,!1,function(e){a("cUNh")},null,null);t.default=b.exports},"7YSd":function(e,t){},cUNh:function(e,t){}});